{"remainingRequest":"E:\\AppFrida\\node_modules\\babel-loader\\lib\\index.js!E:\\AppFrida\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!E:\\AppFrida\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\AppFrida\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\AppFrida\\src\\views\\Formulario.vue?vue&type=template&id=54dc0eac","dependencies":[{"path":"E:\\AppFrida\\src\\views\\Formulario.vue","mtime":1632552547632},{"path":"E:\\AppFrida\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\AppFrida\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\AppFrida\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1628298225000},{"path":"E:\\AppFrida\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\AppFrida\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlIH0gZnJvbSAidnVlIjsKCnZhciBfaG9pc3RlZF8xID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgzIiwgbnVsbCwgIiBGb3JtdWzDoXJpbyBkZSBBdmFsaWHDp8OjbyBkZSBSaXNjbyBlbSBWaW9sw6puY2lhIERvbcOpc3RpY2EgZSBGYW1pbGlhciBjb250cmEgYSBNdWxoZXIgIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiU2FsdmFyIik7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2VsX2lucHV0ID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWlucHV0Iik7CgogIHZhciBfY29tcG9uZW50X2VsX2Zvcm1faXRlbSA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1mb3JtLWl0ZW0iKTsKCiAgdmFyIF9jb21wb25lbnRfUXVlc3Rpb24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiUXVlc3Rpb24iKTsKCiAgdmFyIF9jb21wb25lbnRfZWxfZm9ybSA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1mb3JtIik7CgogIHZhciBfY29tcG9uZW50X2VsX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1idXR0b24iKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIFtfaG9pc3RlZF8xLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtLCB7CiAgICByZWY6ICJmb3JtIiwKICAgIG1vZGVsOiAkZGF0YS5xdWVzdGlvbnMKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZm9ybV9pdGVtLCB7CiAgICAgICAgcHJvcDogIm5vbWUiCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICAgICAgICAgIG1vZGVsVmFsdWU6ICRkYXRhLmZvcm0ubm9tZSwKICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gJGRhdGEuZm9ybS5ub21lID0gJGV2ZW50OwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICJOb21lIgogICAgICAgICAgfSwgbnVsbCwgOAogICAgICAgICAgLyogUFJPUFMgKi8KICAgICAgICAgICwgWyJtb2RlbFZhbHVlIl0pXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgICAgLyogU1RBQkxFICovCgogICAgICB9KSwgKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkZGF0YS5xdWVzdGlvbnMsIGZ1bmN0aW9uIChxdWVzdGlvbikgewogICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgICAgIGtleTogcXVlc3Rpb24uaWQKICAgICAgICB9LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfUXVlc3Rpb24sIHsKICAgICAgICAgIG1vZGVsVmFsdWU6IHF1ZXN0aW9uLmFuc3dlciwKICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogZnVuY3Rpb24gb25VcGRhdGVNb2RlbFZhbHVlKCRldmVudCkgewogICAgICAgICAgICByZXR1cm4gcXVlc3Rpb24uYW5zd2VyID0gJGV2ZW50OwogICAgICAgICAgfSwKICAgICAgICAgIGFsdGVybmF0aXZlczogcXVlc3Rpb24uYWx0ZXJuYXRpdmVzLAogICAgICAgICAgcXVlc3Rpb246IHF1ZXN0aW9uCiAgICAgICAgfSwgbnVsbCwgOAogICAgICAgIC8qIFBST1BTICovCiAgICAgICAgLCBbIm1vZGVsVmFsdWUiLCAib25VcGRhdGU6bW9kZWxWYWx1ZSIsICJhbHRlcm5hdGl2ZXMiLCAicXVlc3Rpb24iXSldKTsKICAgICAgfSksIDEyOAogICAgICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICAgICApKV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9LCA4CiAgLyogUFJPUFMgKi8KICAsIFsibW9kZWwiXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgb25DbGljazogJG9wdGlvbnMub25DbGljaywKICAgIHR5cGU6ICJzdWNjZXNzIgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfaG9pc3RlZF8yXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0sIDgKICAvKiBQUk9QUyAqLwogICwgWyJvbkNsaWNrIl0pXSwgNjQKICAvKiBTVEFCTEVfRlJBR01FTlQgKi8KICApOwp9"},{"version":3,"sources":["E:\\AppFrida\\src\\views\\Formulario.vue"],"names":[],"mappings":";;8BACE,mBAAA,CAGK,IAHL,EAGK,IAHL,EAAI,sFAAJ,EAGA,CAAA;AAAA;AAHA,C;;+CAY2C,Q;;;;;;;;;;;;;6DAZ3C,U,EAIA,YAAA,CAOU,kBAPV,EAOU;AAPD,IAAA,GAAG,EAAC,MAOH;AAPW,IAAA,KAAK,EAAE,KAAA,CAAA;AAOlB,GAPV,E;sBACE;AAAA,aAEe,CAFf,YAAA,CAEe,uBAFf,EAEe;AAFD,QAAA,IAAI,EAAC;AAEJ,OAFf,EAAyB;0BACvB;AAAA,iBAA4D,CAA5D,YAAA,CAA4D,mBAA5D,EAA4D;wBAAzC,KAAA,CAAA,IAAA,CAAK,IAAoC;;qBAAzC,KAAA,CAAA,IAAA,CAAK,IAAL,GAAS,M;cAAgC;AAA9B,YAAA,WAAW,EAAC;AAAkB,WAA5D,E,IAAA,E;;AAAA,Y,cAAA,CAA4D,CAA5D;AAAA,S,CADuB;;;;AAAA,OAAzB,CAEe,G,kBACf,mBAAA,CAEM,SAFN,EAEM,IAFN,EAEM,WAAA,CAF2C,KAAA,CAAA,SAE3C,EAFoD,UAArB,QAAqB,EAAb;6BAA7C,mBAAA,CAEM,KAFN,EAEM;AAFM,UAAA,GAAG,EAAE,QAAQ,CAAC;AAEpB,SAFN,E,CACE,YAAA,CAAiG,mBAAjG,EAAiG;sBAA9E,QAAQ,CAAC,MAAqE;;mBAA9E,QAAQ,CAAC,MAAT,GAAe,M;WAA+D;AAA5D,UAAA,YAAY,EAAE,QAAQ,CAAC,YAAqC;AAAtB,UAAA,QAAQ,EAAE;AAAY,SAAjG,E,IAAA,E;;AAAA,U,iEAAA,C,CADF,C;OAEM,CAFN,E;;AAAA,OADe,EAFf;AAAA,K;;;;GADF,E;;AAAA,I,SAAA,C,EAQA,YAAA,CAA6D,oBAA7D,EAA6D;AAAjD,IAAA,OAAK,EAAE,QAAA,CAAA,OAA0C;AAAjC,IAAA,IAAI,EAAC;AAA4B,GAA7D,E;sBAA2C;AAAA,aAAM,C,UAAA,CAAN;AAAA,K;;;;GAA3C,E;;AAAA,I,WAAA,C","sourcesContent":["<template>\r\n  <h3>\r\n    Formulário de Avaliação de Risco em Violência Doméstica e Familiar contra a\r\n    Mulher\r\n  </h3>\r\n  <el-form ref=\"form\" :model=\"questions\">\r\n    <el-form-item prop=\"nome\">\r\n      <el-input v-model=\"form.nome\" placeholder=\"Nome\"></el-input>\r\n    </el-form-item>\r\n    <div v-bind:key=\"question.id\" v-for=\"question in questions\">\r\n      <Question v-model=\"question.answer\" :alternatives=\"question.alternatives\" :question=\"question\" />\r\n    </div>\r\n  </el-form>\r\n  <el-button @click=\"onClick\" type=\"success\">Salvar</el-button>\r\n</template>\r\n\r\n<script>\r\nimport Question from \"../components/Question\";\r\nimport * as controller from \"../controller/ctlFormulario\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {\r\n    Question,\r\n  },\r\n  methods: {\r\n    onClick() {\r\n      var invalid = false;\r\n\r\n      for (const q of this.questions) {\r\n        if (q.answer == undefined) {\r\n          this.$message.error(\"Questão \" + q.id + \" é obrigatória\");\r\n          invalid = true;\r\n          break;\r\n        }\r\n        this.form.resposta[\"r_\" + q.id] = q.answer;\r\n      }\r\n\r\n      if (invalid == false) {\r\n        this.form.resultado = this.geraResultado(this.form.resposta);\r\n        if (this.id) {\r\n          controller.alterar(this.id, this.form).then(() => {\r\n            this.$router.push({ path: \"ListarAvaliacao\" });\r\n          });\r\n        } else {\r\n          controller.incluir(this.form).then(() => {\r\n            this.$router.push({ path: \"ListarAvaliacao\" });\r\n          });\r\n        }\r\n      }\r\n    },\r\n    geraResultado(respostas) {\r\n      var resp = Object.values(respostas);\r\n      var counts = {};\r\n      for (var num of resp) {\r\n          counts[num] = counts[num] ? counts[num] + 1 : 1;\r\n      }\r\n\r\n      var qtdeSim = counts[1];\r\n      var qtdeNao = /*counts[2]*/ + counts[3] + counts[4];\r\n      var risco = '';\r\n\r\n      switch (qtdeSim) {\r\n          case 0:\r\n          case 1:\r\n          case 2:\r\n              risco = (qtdeNao > 0) ? 'M' : 'B';\r\n              break;\r\n          case 3:\r\n              risco = (qtdeNao > 7) ? 'M' : 'B';\r\n              break;\r\n          case 4:\r\n              risco = (qtdeNao > 3) ? 'M' : 'B';\r\n              break;\r\n          case 5:\r\n              risco = (qtdeNao == 10) ? 'E' : 'M';\r\n              break;\r\n          case 6:\r\n              risco = (qtdeNao > 7 && qtdeNao < 11) ? 'E' : 'M';\r\n              break;\r\n          case 7:\r\n              risco = (qtdeNao > 5 && qtdeNao < 11) ? 'E' : 'M';\r\n              break;\r\n          case 8:\r\n              risco = (qtdeNao > 3 && qtdeNao < 11) ? 'E' : 'M';\r\n              break;\r\n          case 9:\r\n              risco = (qtdeNao > 1 && qtdeNao < 11) ? 'E' : 'M';\r\n              break;\r\n          default:\r\n              risco = 'E';\r\n              break;\r\n      }\r\n\r\n      return {\r\n          qtdeSim: qtdeSim,\r\n          qtdeNao: qtdeNao,\r\n          risco: risco,\r\n      };\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      id: null,\r\n      form: {\r\n        nome: \"\",\r\n        data: new Date().toISOString(),\r\n        resposta: {},\r\n        resultado: {},\r\n      },\r\n      items: [\r\n        {\r\n          to: \"/\",\r\n          text: \"Home\",\r\n        },\r\n      ],\r\n      questions: [\r\n        {\r\n          text: \"Questão 1 - A violência vem aumentando de gravidade e/ou de frequência no último mês?\",\r\n          id: 1,\r\n        },\r\n        {\r\n          text: \"Questão 2 - A senhora/você está grávida ou teve bebê nos últimos 18 meses?\",\r\n          id: 2,\r\n        },\r\n        {\r\n          text:\r\n            \"Questão 3 - A senhora/você tem filhos(as) com o(a) agressor(a)? (caso não tenham filhos em comum, registre não se aplica).\" +\r\n            \" Em caso afirmativo, estão vivendo algum conflito com relação à guarda dos filhos, visitas ou pagamento de pensão pelo agressor?\",\r\n          id: 3,\r\n        },\r\n        {\r\n          text:\r\n            \"Questão 4 - O(A) agressor(a) persegue a senhora/você, demonstra ciúmes excessivo, tenta controlar sua vida e as coisas que você faz? \" +\r\n            \" (aonde você vai, com quem conversa, o tipo de roupa que usa, etc.)\",\r\n          id: 4,\r\n        },\r\n        {\r\n          text:\r\n            \"Questão 5 - A senhora/você se separou recentemente do(a) agressor(a), tentou ou tem intenção de se separar?\" +\r\n            \"\\n Especifique: Separou □ Tentou □ Manifestou intenção □\",\r\n          /*outrasAlternativas: [\r\n            {\r\n              value: 1,\r\n              text: \"Separou\",\r\n            },\r\n            {\r\n              value: 2,\r\n              text: \"Tentou\",\r\n            },\r\n            {\r\n              value: 2,\r\n              text: \"Manifestou intenção\",\r\n            },\r\n          ],*/\r\n          id: 5,\r\n        },\r\n        {\r\n          text:\r\n            \"Questão 6 - O(A) agressor(a) também é violento com outras pessoas (familiares, amigos, colegas etc.)\" +\r\n            \"\\n Especifique: Crianças □ Outros familiares □ Outras pessoas □\",\r\n          id: 6,\r\n        },\r\n        {\r\n          text:\r\n            \"Questão 7 - A senhora/ você possui algum animal doméstico? (caso não tenha animal doméstico, registre não se aplica)\" +\r\n            \"\\n Em caso afirmativo, o(a) agressor(a) maltrata ou agride o animal?\",\r\n          id: 7,\r\n        },\r\n        {\r\n          text: \"Questão 8 - O(A) agressor(a) já a agrediu fisicamente outras vezes?\",\r\n          id: 8,\r\n        },\r\n        {\r\n          text: \"Questão 9 - Alguma vez o(a) agressor(a) tentou estrangular, sufocar ou afogar a senhora/você?\",\r\n          id: 9,\r\n        },\r\n        {\r\n          text: \"Questão 10 - O(A) agressor(a) já fez ameças de morte ou tentou matar a senhora/você?\",\r\n          id: 10,\r\n        },\r\n        {\r\n          text:\r\n            \"Questão 11 - O(A) agressor(a) já usou, ameaçou usar arma de fogo contra a senhora/você ou tem fácil acesso a uma arma?\" +\r\n            \"\\n Especifique: Usou □ Ameaçou usar □ Tem fácil acesso □\",\r\n          id: 11,\r\n        },\r\n        {\r\n          text: \"Questão 12 - O(A) agressor(a) já a ameaçou ou feriu com outro tipo de arma ou instrumento?\",\r\n          id: 12,\r\n        },\r\n        {\r\n          text:\r\n            \"Questão 13 - A senhora/você necessitou de atendimento médico e/ou internação após algumas dessas agressões?\" +\r\n            \"\\n Especifique: Atendimento médico □ Internação\",\r\n          id: 13,\r\n        },\r\n        {\r\n          text: \"Questão 14 - O(A) agressor(a) é usuário de drogas e/ou bebidas alcóolicas\",\r\n          id: 14,\r\n        },\r\n        {\r\n          text: \"Questão 15 - O(A) agressor(a) faz uso de medicação controlada para alguma doença mental/psiquiátrica?\",\r\n          id: 15,\r\n        },\r\n        {\r\n          text:\r\n            \"Questão 16 - A senhora/você já teve ou tem medida protetiva de urgência? (caso não tenha tido medidas protetivas de urgência antes, registre não se aplica).\" +\r\n            \" O(A) agressor(a) já descumpriu medida protetiva de afastamento ou proibição de contato?\",\r\n          id: 16,\r\n        },\r\n        {\r\n          text: \"Questão 17 - O(A) agressor(a) já ameaçou ou tentou se matar alguma vez?\",\r\n          id: 17,\r\n        },\r\n        {\r\n          text: \"Questão 18 - O(A) agressor(a) já obrigou a senhora/você a ter relações sexuais contra a sua vontade?\",\r\n          id: 18,\r\n        },\r\n        {\r\n          text: \"Questão 19 - O(A) agressor(a) está com dificuldades financeiras, está desempregado ou tem dificuldade de se manter no emprego?\",\r\n          id: 19,\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  async created() {\r\n    try {\r\n      var id = this.$route.query.id;\r\n      if (id) {\r\n        var dados = await controller.bucarPorId(id);\r\n        this.form = dados;\r\n        this.id = id;\r\n\r\n        for (var [key, answer] of Object.entries(dados.resposta)) {\r\n          var q_id = key.replace('r_', '') - 1;\r\n          this.questions[q_id].answer = answer;\r\n        }\r\n      }\r\n    }\r\n    catch (ex) {\r\n      console.error(\"Erro ao Buscar Valores\", ex);\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.el-radio__inner::after {\r\n  width: 0.5em;\r\n  height: 0.5em;\r\n}\r\n.el-radio__inner {\r\n  width: 1.125em;\r\n  height: 1.125em;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}