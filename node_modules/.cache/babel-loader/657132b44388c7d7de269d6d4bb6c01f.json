{"remainingRequest":"C:\\Users\\marcelo.milbradt\\Documents\\GitHub\\Frida\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\marcelo.milbradt\\Documents\\GitHub\\Frida\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\marcelo.milbradt\\Documents\\GitHub\\Frida\\src\\controller\\ctlUsuario.js","dependencies":[{"path":"C:\\Users\\marcelo.milbradt\\Documents\\GitHub\\Frida\\src\\controller\\ctlUsuario.js","mtime":1630433431731},{"path":"C:\\Users\\marcelo.milbradt\\Documents\\GitHub\\Frida\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630433420147},{"path":"C:\\Users\\marcelo.milbradt\\Documents\\GitHub\\Frida\\node_modules\\babel-loader\\lib\\index.js","mtime":1630433419899},{"path":"C:\\Users\\marcelo.milbradt\\Documents\\GitHub\\Frida\\node_modules\\eslint-loader\\index.js","mtime":1630433424209}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvbWFyY2Vsby5taWxicmFkdC9Eb2N1bWVudHMvR2l0SHViL0ZyaWRhL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICogYXMgZGIgZnJvbSAiLi9maXJlYmFzZSI7Cgp2YXIgU3dhbCA9IHJlcXVpcmUoJ3N3ZWV0YWxlcnQyJyk7Cgp2YXIgdmFsaWRhTG9naW4gPSBmdW5jdGlvbiB2YWxpZGFMb2dpbihsb2dpbiwgc2VuaGEpIHsKICBkYi51c3VhcmlvLndoZXJlKCJsb2dpbiIsICI9PSIsIGxvZ2luKS53aGVyZSgic2VuaGEiLCAiPT0iLCBzZW5oYSkubGltaXQoMSkuZ2V0KCkudGhlbihmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgIGlmIChzbmFwc2hvdC5zaXplID4gMCkgewogICAgICB2YXIgZGF0YSA9IHNuYXBzaG90LmRvY3NbMF0uZGF0YSgpOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbm9tZScsIGRhdGEubm9tZSk7IC8vY29uc29sZS5sb2coJ05vbWUgU3RvcmFnZScsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdub21lJykpCgogICAgICBtZW5zYWdlbUxvZ2luU3VjZXNzbygpOwogICAgfSBlbHNlIHsKICAgICAgU3dhbC5maXJlKCJFcnJvISIsICJVc3XDoXJpbyBvdSBzZW5oYSBpbnbDoWxpZG8iLCAiZXJyb3IiKTsKICAgIH0KICB9KTsKfTsKCmZ1bmN0aW9uIG1lbnNhZ2VtTG9naW5TdWNlc3NvKCkgewogIHZhciBUb2FzdCA9IFN3YWwubWl4aW4oewogICAgdG9hc3Q6IHRydWUsCiAgICBwb3NpdGlvbjogJ3RvcC1lbmQnLAogICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgdGltZXI6IDE1MDAsCiAgICB0aW1lclByb2dyZXNzQmFyOiB0cnVlLAogICAgZGlkT3BlbjogZnVuY3Rpb24gZGlkT3Blbih0b2FzdCkgewogICAgICB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgU3dhbC5zdG9wVGltZXIpOwogICAgICB0b2FzdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgU3dhbC5yZXN1bWVUaW1lcik7CiAgICB9CiAgfSk7CiAgVG9hc3QuZmlyZSh7CiAgICBpY29uOiAnc3VjY2VzcycsCiAgICB0aXRsZTogJ0xvZ2FkbyBjb20gc3VjZXNzbyEnCiAgfSk7Cn0KCnZhciBsaXN0YXJUb2RvcyA9IGZ1bmN0aW9uIGxpc3RhclRvZG9zKCkgewogIGRiLnVzdWFyaW8ub3JkZXJCeSgibm9tZSIsICJhc2MiKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgdmFyIGRhdGEgPSBzbmFwc2hvdC5kb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7CiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHsKICAgICAgICBpZDogZG9jLmlkCiAgICAgIH0sIGRvYy5kYXRhKCkpOwogICAgfSk7CiAgICBjb25zb2xlLmxvZygiVG9kb3MgVXN1YXJpb3MgPSAiLCBkYXRhKTsKICB9KTsKfTsKCnZhciBidWNhclBvcklkID0gZnVuY3Rpb24gYnVjYXJQb3JJZChpZCkgewogIGRiLnVzdWFyaW8uZG9jKGlkKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChkb2MpIHsKICAgIGlmICghZG9jLmV4aXN0cykgcmV0dXJuOwogICAgY29uc29sZS5sb2coIkRhZG9zIGRvIFVzdcOhcmlvIFNlbGVjaW9uYWRvID0gIiwgZG9jLmRhdGEoKSk7CiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICBjb25zb2xlLmVycm9yKCJFcnJvIGFvIGJ1c2NhciBVc3XDoXJpbyIsIGVycm9yKTsKICAgIFN3YWwuZmlyZSgiRXJybyEiLCAiQSBjw7NkaWdvIGRvIFVzdcOhcmlvIGZvcm5lY2lkbyBuw6NvIGV4aXN0ZSEiLCAiZXJyb3IiKTsKICB9KTsKfTsKCnZhciBpbmNsdWlyID0gZnVuY3Rpb24gaW5jbHVpcihkYWRvcykgewogIGRiLnVzdWFyaW8uYWRkKGRhZG9zKS50aGVuKGZ1bmN0aW9uIChyZWYpIHsKICAgIFN3YWwuZmlyZSgiU2Fsdm8hIiwgIk8gdXN1w6FyaW8gZm9pIHNhbHZvIGNvbSBzdWNlc3NvISIsICJzdWNjZXNzIik7CiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICBjb25zb2xlLmVycm9yKCJFcnJvIGFvIGluY2x1aXIgdXN1w6FyaW8iLCBlcnJvcik7CiAgICBTd2FsLmZpcmUoIkVycm8hIiwgIkhvdXZlIHVtIHByb2JsZW1hIGFvIHRlbnRhciBpbmNsdWlyIG8gdXN1w6FyaW8hIiwgImVycm9yIik7CiAgfSk7Cn07Cgp2YXIgYWx0ZXJhciA9IGZ1bmN0aW9uIGFsdGVyYXIoaWQsIGRhZG9zKSB7CiAgZGIudXN1YXJpby5kb2MoaWQpLnVwZGF0ZShkYWRvcykudGhlbihmdW5jdGlvbiAoKSB7CiAgICBTd2FsLmZpcmUoIkF0dWFsaXphZG8hIiwgIk8gdXN1w6FyaW8gZm9pIGF0dWFsaXphZG8gY29tIHN1Y2Vzc28hIiwgInN1Y2Nlc3MiKTsKICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoIkVycm8gYW8gYWx0ZXJhciB1c3XDoXJpbyIsIGVycm9yKTsKICAgIFN3YWwuZmlyZSgiRXJybyEiLCAiSG91dmUgdW0gcHJvYmxlbWEgYW8gdGVudGFyIGFsdGVyYXIgbyB1c3XDoXJpbyEiLCAiZXJyb3IiKTsKICB9KTsKfTsKCnZhciBleGNsdWlyID0gZnVuY3Rpb24gZXhjbHVpcihpZCkgewogIGRiLnVzdWFyaW8uZG9jKGlkKS5kZWxldGUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgIFN3YWwuZmlyZSgiRGVsZXRhZG8hIiwgIlNldSB1c3XDoXJpbyBmb2kgZGVsZXRhZG8gY29tIHN1Y2Vzc28hIiwgInN1Y2Nlc3MiKTsKICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoIkVycm8gYW8gZXhjbHVpciB1c3XDoXJpbyIsIGVycm9yKTsKICAgIFN3YWwuZmlyZSgiRXJybyEiLCAiSG91dmUgdW0gcHJvYmxlbWEgYW8gdGVudGFyIGV4Y2x1aXIgbyB1c3XDoXJpbyEiLCAiZXJyb3IiKTsKICB9KTsKfTsKCmV4cG9ydCB7IHZhbGlkYUxvZ2luLCBsaXN0YXJUb2RvcywgYnVjYXJQb3JJZCwgaW5jbHVpciwgYWx0ZXJhciwgZXhjbHVpciB9Ow=="},{"version":3,"sources":["C:/Users/marcelo.milbradt/Documents/GitHub/Frida/src/controller/ctlUsuario.js"],"names":["db","Swal","require","validaLogin","login","senha","usuario","where","limit","get","then","snapshot","size","data","docs","localStorage","setItem","nome","mensagemLoginSucesso","fire","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","icon","title","listarTodos","orderBy","map","doc","id","console","log","bucarPorId","exists","catch","error","incluir","dados","add","ref","alterar","update","excluir","delete"],"mappings":"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","sourcesContent":["import * as db from \"./firebase\";\r\nconst Swal = require('sweetalert2')\r\n\r\nvar validaLogin = function validaLogin(login, senha) {\r\n    db.usuario\r\n        .where(\"login\", \"==\", login)\r\n        .where(\"senha\", \"==\", senha)\r\n        .limit(1).get()\r\n        .then((snapshot) => {\r\n            if (snapshot.size > 0) {\r\n                var data = snapshot.docs[0].data();\r\n                localStorage.setItem('nome', data.nome);\r\n                //console.log('Nome Storage', localStorage.getItem('nome'))\r\n\r\n                mensagemLoginSucesso();\r\n            } else {\r\n                Swal.fire(\"Erro!\", \"Usuário ou senha inválido\", \"error\");\r\n            }\r\n        });\r\n}\r\n\r\nfunction mensagemLoginSucesso() {\r\n    const Toast = Swal.mixin({\r\n        toast: true,\r\n        position: 'top-end',\r\n        showConfirmButton: false,\r\n        timer: 1500,\r\n        timerProgressBar: true,\r\n        didOpen: (toast) => {\r\n            toast.addEventListener('mouseenter', Swal.stopTimer)\r\n            toast.addEventListener('mouseleave', Swal.resumeTimer)\r\n        }\r\n    })\r\n\r\n    Toast.fire({\r\n        icon: 'success',\r\n        title: 'Logado com sucesso!'\r\n    })\r\n}\r\n\r\nvar listarTodos = function listarTodos() {\r\n    db.usuario\r\n        .orderBy(\"nome\", \"asc\").get()\r\n        .then((snapshot) => {\r\n            const data = snapshot.docs.map((doc) => ({\r\n                id: doc.id,\r\n                ...doc.data(),\r\n            }));\r\n            console.log(\"Todos Usuarios = \", data);\r\n        });\r\n}\r\n\r\nvar bucarPorId = function bucarPorId(id) {\r\n    db.usuario\r\n        .doc(id).get()\r\n        .then((doc) => {\r\n            if (!doc.exists) return;\r\n            console.log(\"Dados do Usuário Selecionado = \", doc.data());\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Erro ao buscar Usuário\", error);\r\n            Swal.fire(\"Erro!\", \"A código do Usuário fornecido não existe!\", \"error\");\r\n        });\r\n}\r\n\r\nvar incluir = function incluir(dados) {\r\n    db.usuario\r\n        .add(dados)\r\n        .then((ref) => {\r\n            Swal.fire(\"Salvo!\", \"O usuário foi salvo com sucesso!\", \"success\");\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Erro ao incluir usuário\", error);\r\n            Swal.fire(\"Erro!\", \"Houve um problema ao tentar incluir o usuário!\", \"error\");\r\n        });\r\n}\r\n\r\nvar alterar = function alterar(id, dados) {\r\n    db.usuario\r\n        .doc(id)\r\n        .update(dados)\r\n        .then(() => {\r\n            Swal.fire(\"Atualizado!\", \"O usuário foi atualizado com sucesso!\", \"success\");\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Erro ao alterar usuário\", error);\r\n            Swal.fire(\"Erro!\", \"Houve um problema ao tentar alterar o usuário!\", \"error\");\r\n        });\r\n}\r\n\r\nvar excluir = function excluir(id) {\r\n    db.usuario\r\n        .doc(id)\r\n        .delete()\r\n        .then(() => {\r\n            Swal.fire(\"Deletado!\", \"Seu usuário foi deletado com sucesso!\", \"success\");\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Erro ao excluir usuário\", error);\r\n            Swal.fire(\"Erro!\", \"Houve um problema ao tentar excluir o usuário!\", \"error\");\r\n        });\r\n}\r\n\r\nexport {\r\n    validaLogin,\r\n    listarTodos,\r\n    bucarPorId,\r\n    incluir,\r\n    alterar,\r\n    excluir\r\n}"]}]}