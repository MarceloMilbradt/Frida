{"remainingRequest":"C:\\Users\\marcelo.milbradt\\Documents\\GitHub\\Frida\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\marcelo.milbradt\\Documents\\GitHub\\Frida\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\marcelo.milbradt\\Documents\\GitHub\\Frida\\src\\controller\\ctlDenuncia.js","dependencies":[{"path":"C:\\Users\\marcelo.milbradt\\Documents\\GitHub\\Frida\\src\\controller\\ctlDenuncia.js","mtime":1630433431730},{"path":"C:\\Users\\marcelo.milbradt\\Documents\\GitHub\\Frida\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630433420147},{"path":"C:\\Users\\marcelo.milbradt\\Documents\\GitHub\\Frida\\node_modules\\babel-loader\\lib\\index.js","mtime":1630433419899},{"path":"C:\\Users\\marcelo.milbradt\\Documents\\GitHub\\Frida\\node_modules\\eslint-loader\\index.js","mtime":1630433424209}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvbWFyY2Vsby5taWxicmFkdC9Eb2N1bWVudHMvR2l0SHViL0ZyaWRhL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICogYXMgZGIgZnJvbSAiLi9maXJlYmFzZSI7Cgp2YXIgU3dhbCA9IHJlcXVpcmUoJ3N3ZWV0YWxlcnQyJyk7Cgp2YXIgbGlzdGFyVG9kb3MgPSBmdW5jdGlvbiBsaXN0YXJUb2RvcygpIHsKICBkYi52aXRpbWEuZ2V0KCkudGhlbihmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgIHZhciBkYXRhID0gc25hcHNob3QuZG9jcy5tYXAoZnVuY3Rpb24gKGRvYykgewogICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7CiAgICAgICAgaWQ6IGRvYy5pZAogICAgICB9LCBkb2MuZGF0YSgpKTsKICAgIH0pOwogICAgY29uc29sZS5sb2coIlRvZGFzIFZpdGltYXMgPSAiLCBkYXRhKTsKICB9KTsKfTsKCnZhciBidWNhclBvcklkID0gZnVuY3Rpb24gYnVjYXJQb3JJZChpZCkgewogIGRiLnZpdGltYS5kb2MoaWQpLmdldCgpLnRoZW4oZnVuY3Rpb24gKGRvYykgewogICAgaWYgKCFkb2MuZXhpc3RzKSByZXR1cm47CiAgICBjb25zb2xlLmxvZygiRGFkb3MgZGEgVml0aW1hIFNlbGVjaW9uYWRhID0gIiwgZG9jLmRhdGEoKSk7CiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICBjb25zb2xlLmVycm9yKCJFcnJvIGFvIGJ1c2NhciBWaXRpbWEiLCBlcnJvcik7CiAgICBTd2FsLmZpcmUoIkVycm8hIiwgIkEgY8OzZGlnbyBkYSBWaXRpbWEgZm9ybmVjaWRvIG7Do28gZXhpc3RlISIsICJlcnJvciIpOwogIH0pOwp9OwoKdmFyIGluY2x1aXIgPSBmdW5jdGlvbiBpbmNsdWlyKHZpdGltYSwgYWdyZXNzb3IpIHsKICB2YXIgdGVyY2Vpcm8gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7CiAgdmFyIGJhdGNoID0gZGIuZmlyZWJhc2UuZmlyZXN0b3JlKCkuYmF0Y2goKTsKICBiYXRjaC5zZXQoZGIudml0aW1hLmRvYygpLCB2aXRpbWEpOwogIGJhdGNoLnNldChkYi5hZ3Jlc3Nvci5kb2MoKSwgYWdyZXNzb3IpOwogIGlmICh0ZXJjZWlybykgYmF0Y2guc2V0KGRiLmRlbnVuY2lhVGVyY2Vpcm8uZG9jKCksIHRlcmNlaXJvKTsKICBiYXRjaC5jb21taXQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgIFN3YWwuZmlyZSgiU2Fsdm8hIiwgIkEgRGVuw7puY2lhIGZvaSBzYWx2byBjb20gc3VjZXNzbyEiLCAic3VjY2VzcyIpOwogIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcigiRXJybyBhbyBpbmNsdWlyIERlbsO6bmNpYSIsIGVycm9yKTsKICAgIFN3YWwuZmlyZSgiRXJybyEiLCAiSG91dmUgdW0gcHJvYmxlbWEgYW8gdGVudGFyIGluY2x1aXIgYSBEZW7Dum5jaWEhIiwgImVycm9yIik7CiAgfSk7Cn07Cgp2YXIgaW5jbHVpckRlbnVuY2lhID0gZnVuY3Rpb24gaW5jbHVpckRlbnVuY2lhKHZpdGltYSwgYWdyZXNzb3IpIHsKICB2YXIgdGVyY2Vpcm8gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7CiAgZGIuZGVudW5jaWEuYWRkKHsKICAgIHZpdGltYTogdml0aW1hLAogICAgYWdyZXNzb3I6IGFncmVzc29yLAogICAgdGVyY2Vpcm86IHRlcmNlaXJvCiAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICBTd2FsLmZpcmUoIlNhbHZvISIsICJBIERlbsO6bmNpYSBmb2kgc2Fsdm8gY29tIHN1Y2Vzc28hIiwgInN1Y2Nlc3MiKTsKICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoIkVycm8gYW8gaW5jbHVpciBEZW7Dum5jaWEiLCBlcnJvcik7CiAgICBTd2FsLmZpcmUoIkVycm8hIiwgIkhvdXZlIHVtIHByb2JsZW1hIGFvIHRlbnRhciBpbmNsdWlyIGEgRGVuw7puY2lhISIsICJlcnJvciIpOwogIH0pOwp9OwoKdmFyIGFsdGVyYXIgPSBmdW5jdGlvbiBhbHRlcmFyKGlkLCBkYWRvcykgewogIGRiLnZpdGltYS5kb2MoaWQpLnVwZGF0ZShkYWRvcykudGhlbihmdW5jdGlvbiAoKSB7CiAgICBTd2FsLmZpcmUoIkF0dWFsaXphZG8hIiwgIkEgRGVuw7puY2lhIGZvaSBhdHVhbGl6YWRhIGNvbSBzdWNlc3NvISIsICJzdWNjZXNzIik7CiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICBjb25zb2xlLmVycm9yKCJFcnJvIGFvIGFsdGVyYXIgRGVuw7puY2lhIiwgZXJyb3IpOwogICAgU3dhbC5maXJlKCJFcnJvISIsICJIb3V2ZSB1bSBwcm9ibGVtYSBhbyB0ZW50YXIgYWx0ZXJhciBhIERlbsO6bmNpYSEiLCAiZXJyb3IiKTsKICB9KTsKfTsKCnZhciBleGNsdWlyID0gZnVuY3Rpb24gZXhjbHVpcihpZCkgewogIGRiLnZpdGltYS5kb2MoaWQpLmRlbGV0ZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgU3dhbC5maXJlKCJEZWxldGFkbyEiLCAiU3VhIERlbsO6bmNpYSBmb2kgZGVsZXRhZGEgY29tIHN1Y2Vzc28hIiwgInN1Y2Nlc3MiKTsKICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoIkVycm8gYW8gZXhjbHVpciBEZW7Dum5jaWEiLCBlcnJvcik7CiAgICBTd2FsLmZpcmUoIkVycm8hIiwgIkhvdXZlIHVtIHByb2JsZW1hIGFvIHRlbnRhciBleGNsdWlyIGEgRGVuw7puY2lhISIsICJlcnJvciIpOwogIH0pOwp9OwoKZXhwb3J0IHsgbGlzdGFyVG9kb3MsIGJ1Y2FyUG9ySWQsIGluY2x1aXIsIGFsdGVyYXIsIGV4Y2x1aXIsIGluY2x1aXJEZW51bmNpYSB9Ow=="},{"version":3,"sources":["C:/Users/marcelo.milbradt/Documents/GitHub/Frida/src/controller/ctlDenuncia.js"],"names":["db","Swal","require","listarTodos","vitima","get","then","snapshot","data","docs","map","doc","id","console","log","bucarPorId","exists","catch","error","fire","incluir","agressor","terceiro","batch","firebase","firestore","set","denunciaTerceiro","commit","incluirDenuncia","denuncia","add","alterar","dados","update","excluir","delete"],"mappings":"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","sourcesContent":["import * as db from \"./firebase\";\r\nconst Swal = require('sweetalert2')\r\n\r\nvar listarTodos = function listarTodos() {\r\n    db.vitima.get().then((snapshot) => {\r\n        const data = snapshot.docs.map((doc) => ({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n        }));\r\n        console.log(\"Todas Vitimas = \", data);\r\n    });\r\n}\r\n\r\nvar bucarPorId = function bucarPorId(id) {\r\n    db.vitima\r\n        .doc(id).get()\r\n        .then((doc) => {\r\n            if (!doc.exists) return;\r\n            console.log(\"Dados da Vitima Selecionada = \", doc.data());\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Erro ao buscar Vitima\", error);\r\n            Swal.fire(\"Erro!\", \"A código da Vitima fornecido não existe!\", \"error\");\r\n        });\r\n}\r\n\r\nvar incluir = function incluir(vitima, agressor, terceiro = null) {\r\n\r\n    var batch = db.firebase.firestore().batch();\r\n    batch.set(db.vitima.doc(), vitima);\r\n    batch.set(db.agressor.doc(), agressor);\r\n    if (terceiro) batch.set(db.denunciaTerceiro.doc(), terceiro);\r\n\r\n    batch.commit()\r\n        .then(() => {\r\n            Swal.fire(\"Salvo!\", \"A Denúncia foi salvo com sucesso!\", \"success\");\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Erro ao incluir Denúncia\", error);\r\n            Swal.fire(\"Erro!\", \"Houve um problema ao tentar incluir a Denúncia!\", \"error\");\r\n        });\r\n}\r\n\r\n\r\nvar incluirDenuncia = function incluirDenuncia (vitima, agressor, terceiro = null) {\r\n\r\n    db.denuncia.add({vitima,agressor,terceiro})\r\n        .then(() => {\r\n            Swal.fire(\"Salvo!\", \"A Denúncia foi salvo com sucesso!\", \"success\");\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Erro ao incluir Denúncia\", error);\r\n            Swal.fire(\"Erro!\", \"Houve um problema ao tentar incluir a Denúncia!\", \"error\");\r\n        });\r\n}\r\n\r\nvar alterar = function alterar(id, dados) {\r\n    db.vitima\r\n        .doc(id)\r\n        .update(dados)\r\n        .then(() => {\r\n            Swal.fire(\"Atualizado!\", \"A Denúncia foi atualizada com sucesso!\", \"success\");\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Erro ao alterar Denúncia\", error);\r\n            Swal.fire(\"Erro!\", \"Houve um problema ao tentar alterar a Denúncia!\", \"error\");\r\n        });\r\n}\r\n\r\nvar excluir = function excluir(id) {\r\n    db.vitima\r\n        .doc(id)\r\n        .delete()\r\n        .then(() => {\r\n            Swal.fire(\"Deletado!\", \"Sua Denúncia foi deletada com sucesso!\", \"success\");\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Erro ao excluir Denúncia\", error);\r\n            Swal.fire(\"Erro!\", \"Houve um problema ao tentar excluir a Denúncia!\", \"error\");\r\n        });\r\n}\r\n\r\nexport {\r\n    listarTodos,\r\n    bucarPorId,\r\n    incluir,\r\n    alterar,\r\n    excluir,\r\n    incluirDenuncia\r\n}"]}]}