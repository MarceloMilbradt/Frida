{"remainingRequest":"E:\\AppFrida\\node_modules\\babel-loader\\lib\\index.js!E:\\AppFrida\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\AppFrida\\src\\controller\\AuthService.js","dependencies":[{"path":"E:\\AppFrida\\src\\controller\\AuthService.js","mtime":1633046898380},{"path":"E:\\AppFrida\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\AppFrida\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\AppFrida\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6L0FwcEZyaWRhL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBmaXJlYmFzZSB9IGZyb20gIi4vZmlyZWJhc2UiOwppbXBvcnQgeyBidWNhclBvckVtYWlsIH0gZnJvbSAiLi9jdGxVc3VhcmlvIjsKCnZhciBTd2FsID0gcmVxdWlyZSgic3dlZXRhbGVydDIiKTsKCnZhciBjb25maWcgPSB7CiAgYXBpS2V5OiAiQUl6YVN5Q0Q3WkRvc2xiMEJ2Z1pZTkktRzZoeGV6OFZTcHpjaEk4IiwKICBhdXRoRG9tYWluOiAiZnJpZGEtZjYzNDMuZmlyZWJhc2VhcHAuY29tIiwKICBkYXRhYmFzZVVSTDogImh0dHBzOi8vZnJpZGEtZjYzNDMtZGVmYXVsdC1ydGRiLmZpcmViYXNlaW8uY29tIiwKICBwcm9qZWN0SWQ6ICJmcmlkYS1mNjM0MyIsCiAgc3RvcmFnZUJ1Y2tldDogImZyaWRhLWY2MzQzLmFwcHNwb3QuY29tIiwKICBtZXNzYWdpbmdTZW5kZXJJZDogIjEyNzkxNjQ1OTM3OCIsCiAgYXBwSWQ6ICIxOjEyNzkxNjQ1OTM3ODp3ZWI6NTQ2ZjMyZTU5MzZkNGU3YjFlMDllYiIKfTsKdmFyIHNlY29uZGFyeUFwcCA9IGZpcmViYXNlLmluaXRpYWxpemVBcHAoY29uZmlnLCAiU2Vjb25kYXJ5Iik7Cgp2YXIgZ2VuZXJhdGVQYXNzd29yZCA9IGZ1bmN0aW9uIGdlbmVyYXRlUGFzc3dvcmQoKSB7CiAgdmFyIGxlbmd0aCA9IDMyLAogICAgICBjaGFyc2V0ID0gImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVowMTIzNDU2Nzg5IiwKICAgICAgcmV0VmFsID0gIiI7CgogIGZvciAodmFyIGkgPSAwLCBuID0gY2hhcnNldC5sZW5ndGg7IGkgPCBsZW5ndGg7ICsraSkgewogICAgcmV0VmFsICs9IGNoYXJzZXQuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG4pKTsKICB9CgogIHJldHVybiByZXRWYWw7Cn07Cgp2YXIgYXV0aCA9IGZpcmViYXNlLmF1dGgoKTsKCnZhciBsb2dpbkFub25pbW8gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBhdXRoLnNpZ25JbkFub255bW91c2x5KCkpOwoKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiBsb2dpbkFub25pbW8oKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKTsKCnZhciBjcmVhdGVDcmVkZW50aWFscyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihlbWFpbCkgewogICAgdmFyIHVzZXI7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBzZWNvbmRhcnlBcHAuYXV0aCgpLmNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgZ2VuZXJhdGVQYXNzd29yZCgpKS50aGVuKGZ1bmN0aW9uICh1c2VyQ3JlZGVudGlhbCkgewogICAgICAgICAgICAgIHNlY29uZGFyeUFwcC5hdXRoKCkuc2VuZFBhc3N3b3JkUmVzZXRFbWFpbChlbWFpbCk7CiAgICAgICAgICAgICAgc2Vjb25kYXJ5QXBwLmF1dGgoKS5zaWduT3V0KCk7CiAgICAgICAgICAgICAgdmFyIHVzZXIgPSB1c2VyQ3JlZGVudGlhbC51c2VyOwogICAgICAgICAgICAgIHJldHVybiB1c2VyOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHVzZXIgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHVzZXIpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUNyZWRlbnRpYWxzKF94KSB7CiAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCk7CgpmdW5jdGlvbiBtZW5zYWdlbUxvZ2luU3VjZXNzbygpIHsKICB2YXIgVG9hc3QgPSBTd2FsLm1peGluKHsKICAgIHRvYXN0OiB0cnVlLAogICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgIHRpbWVyOiAxNTAwLAogICAgdGltZXJQcm9ncmVzc0JhcjogdHJ1ZSwKICAgIGRpZE9wZW46IGZ1bmN0aW9uIGRpZE9wZW4odG9hc3QpIHsKICAgICAgdG9hc3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VlbnRlciIsIFN3YWwuc3RvcFRpbWVyKTsKICAgICAgdG9hc3QuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VsZWF2ZSIsIFN3YWwucmVzdW1lVGltZXIpOwogICAgfQogIH0pOwogIFRvYXN0LmZpcmUoewogICAgaWNvbjogInN1Y2Nlc3MiLAogICAgdGl0bGU6ICJMb2dhZG8gY29tIHN1Y2Vzc28hIgogIH0pOwp9Cgp2YXIgcmVzZXRTZW5oYSA9IGZ1bmN0aW9uIHJlc2V0U2VuaGEoZW1haWwpIHsKICByZXR1cm4gYXV0aC5zZW5kUGFzc3dvcmRSZXNldEVtYWlsKGVtYWlsKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgIFN3YWwuZmlyZSh7CiAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsCiAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgdGl0bGU6ICdGb2kgZW52aWFkbyB1bSBlLW1haWwgcGFyYSAnICsgZW1haWwgKyAnIHBhcmEgYSByZWRlZmluacOnw6NvIGRhIHN1YSBzZW5oYScsCiAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgdGltZXI6IDMwMDAKICAgIH0pOwogIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcigiRXJybyBhbyByZXNldGFyIGEgc2VuaGEgZG8gdXN1w6FyaW8gbm8gRmlyZWJhc2UgQXV0aGVudGljYXRpb24iLCBlcnJvcik7CiAgICBTd2FsLmZpcmUoIkVycm8hIiwgIkVuZGVyZcOnbyBkZSBlLW1haWwgaW5mb3JtYWRvIMOpIGludmFsaWRvISIsICJlcnJvciIpOwogIH0pOwp9OwoKdmFyIGxvZ2luID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGVtYWlsLCBwYXNzd29yZCkgewogICAgdmFyIHVzZXI7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBhdXRoLnNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKGVtYWlsLCBwYXNzd29yZCkudGhlbihmdW5jdGlvbiAodXNlckNyZWRlbnRpYWwpIHsKICAgICAgICAgICAgICAvLyBTaWduZWQgaW4KICAgICAgICAgICAgICB2YXIgdXNlciA9IHVzZXJDcmVkZW50aWFsLnVzZXI7IC8vIC4uLgoKICAgICAgICAgICAgICAvLyAuLi4KICAgICAgICAgICAgICBtZW5zYWdlbUxvZ2luU3VjZXNzbygpOwogICAgICAgICAgICAgIHJldHVybiB1c2VyOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICB2YXIgZXJyb3JDb2RlID0gZXJyb3IuY29kZTsKICAgICAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICB1c2VyID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCB1c2VyKTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUzKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiBsb2dpbihfeDIsIF94MykgewogICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOwoKdmFyIGxvZ291dCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGF1dGguc2lnbk91dCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJsb2dnZWQgb3V0Iik7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgey8vIEFuIGVycm9yIGhhcHBlbmVkLgogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU0KTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCk7Cgp2YXIgZ2V0TG9naW5TdGF0ZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWY1ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGF1dGgub25BdXRoU3RhdGVDaGFuZ2VkKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgICAgICAgaWYgKHVzZXIpIHsKICAgICAgICAgICAgICAgIC8vIFVzZXIgaXMgc2lnbmVkIGluLCBzZWUgZG9jcyBmb3IgYSBsaXN0IG9mIGF2YWlsYWJsZSBwcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAvLyBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vZG9jcy9yZWZlcmVuY2UvanMvZmlyZWJhc2UuVXNlcgogICAgICAgICAgICAgICAgdmFyIHVpZCA9IHVzZXIudWlkOyAvLyAuLi4KICAgICAgICAgICAgICB9IGVsc2Ugey8vIFVzZXIgaXMgc2lnbmVkIG91dAogICAgICAgICAgICAgICAgLy8gLi4uCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU1KTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiBnZXRMb2dpblN0YXRlKCkgewogICAgcmV0dXJuIF9yZWY1LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOwoKdmFyIHNldFdhdGNoZXIgPSBmdW5jdGlvbiBzZXRXYXRjaGVyKGZuKSB7CiAgYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZWQoZm4pOwp9OwoKdmFyIGdldEN1cnJlbnRVc2VyID0gZnVuY3Rpb24gZ2V0Q3VycmVudFVzZXIoKSB7CiAgdmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyOwogIHJldHVybiB1c2VyOwp9OwoKdmFyIGF0dWFsaXphclBlcmZpbCA9IGZ1bmN0aW9uIGF0dWFsaXphclBlcmZpbChkYWRvcykgewogIC8vZGFkb3MgPSB7IGRpc3BsYXlOYW1lOiAiQ3Jpc3RpYW4gVy4iLCB0ZWxlZm9uZTogIig1NSkgOTk5OTktOTk5OSIsIGNwZjogIjAxMi4zNDUuNjc4LTkwIiB9OwogIHZhciB1c2VyID0gZ2V0Q3VycmVudFVzZXIoKTsKCiAgaWYgKHVzZXIpIHsKICAgIHVzZXIudXBkYXRlUHJvZmlsZShkYWRvcyk7CiAgfQp9OwoKdmFyIGdldE5vbWVVc2VyID0gZnVuY3Rpb24gZ2V0Tm9tZVVzZXIoKSB7CiAgLy9Qb3N0ZXJpb3JtZW50ZSwgZGEgcHJhIGJ1c2NhciBlc3NlIGUtbWFpbCBuYSBjb2xsZWN0aW9uIGRlIHVzdWFyaW9zIHByYSBkZXNjb2JyaXIgbyBub21lCiAgcmV0dXJuIGF1dGguY3VycmVudFVzZXIuZW1haWw7Cn07CgpleHBvcnQgeyBjcmVhdGVDcmVkZW50aWFscywgcmVzZXRTZW5oYSwgbG9naW4sIGxvZ291dCwgZ2V0TG9naW5TdGF0ZSwgZ2V0Q3VycmVudFVzZXIsIHNldFdhdGNoZXIsIGdldE5vbWVVc2VyLCBsb2dpbkFub25pbW8gfTs="},{"version":3,"sources":["E:/AppFrida/src/controller/AuthService.js"],"names":["firebase","bucarPorEmail","Swal","require","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","secondaryApp","initializeApp","generatePassword","length","charset","retVal","i","n","charAt","Math","floor","random","auth","loginAnonimo","signInAnonymously","createCredentials","email","createUserWithEmailAndPassword","then","userCredential","sendPasswordResetEmail","signOut","user","mensagemLoginSucesso","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","fire","icon","title","resetSenha","catch","error","console","login","password","signInWithEmailAndPassword","errorCode","code","errorMessage","message","logout","log","getLoginState","onAuthStateChanged","uid","setWatcher","fn","getCurrentUser","currentUser","atualizarPerfil","dados","updateProfile","getNomeUser"],"mappings":"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","sourcesContent":["import { firebase } from \"./firebase\";\r\nimport {bucarPorEmail} from \"./ctlUsuario\";\r\n\r\nconst Swal = require(\"sweetalert2\");\r\n\r\nvar config = {\r\n  apiKey: \"AIzaSyCD7ZDoslb0BvgZYNI-G6hxez8VSpzchI8\",\r\n  authDomain: \"frida-f6343.firebaseapp.com\",\r\n  databaseURL: \"https://frida-f6343-default-rtdb.firebaseio.com\",\r\n  projectId: \"frida-f6343\",\r\n  storageBucket: \"frida-f6343.appspot.com\",\r\n  messagingSenderId: \"127916459378\",\r\n  appId: \"1:127916459378:web:546f32e5936d4e7b1e09eb\",\r\n};\r\n\r\n\r\n\r\nvar secondaryApp = firebase.initializeApp(config, \"Secondary\");\r\n\r\nconst generatePassword = () => {\r\n  var length = 32,\r\n    charset = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\",\r\n    retVal = \"\";\r\n  for (var i = 0, n = charset.length; i < length; ++i) {\r\n    retVal += charset.charAt(Math.floor(Math.random() * n));\r\n  }\r\n  return retVal;\r\n};\r\n\r\nconst auth = firebase.auth();\r\n\r\nconst loginAnonimo = async () => auth.signInAnonymously();\r\n\r\nconst createCredentials = async (email) => {\r\n  const user = await secondaryApp\r\n    .auth()\r\n    .createUserWithEmailAndPassword(email, generatePassword())\r\n    .then((userCredential) => {\r\n      secondaryApp.auth().sendPasswordResetEmail(email);\r\n      secondaryApp.auth().signOut();\r\n      var user = userCredential.user;\r\n      return user;\r\n    });\r\n  return user;\r\n};\r\n\r\nfunction mensagemLoginSucesso() {\r\n  const Toast = Swal.mixin({\r\n    toast: true,\r\n    position: \"top-end\",\r\n    showConfirmButton: false,\r\n    timer: 1500,\r\n    timerProgressBar: true,\r\n    didOpen: (toast) => {\r\n      toast.addEventListener(\"mouseenter\", Swal.stopTimer);\r\n      toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\r\n    },\r\n  });\r\n\r\n  Toast.fire({\r\n    icon: \"success\",\r\n    title: \"Logado com sucesso!\",\r\n  });\r\n}\r\n\r\nconst resetSenha = (email) => {\r\n  return auth.sendPasswordResetEmail(email)\r\n    .then(() => {\r\n      Swal.fire({\r\n        position: 'top-end',\r\n        icon: 'success',\r\n        title: 'Foi enviado um e-mail para ' + email + ' para a redefinição da sua senha',\r\n        showConfirmButton: false,\r\n        timer: 3000\r\n      })\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Erro ao resetar a senha do usuário no Firebase Authentication\", error);\r\n      Swal.fire(\"Erro!\", \"Endereço de e-mail informado é invalido!\", \"error\");\r\n    });\r\n}\r\n\r\nconst login = async (email, password) => {\r\n  const user = await auth\r\n    .signInWithEmailAndPassword(email, password)\r\n    .then((userCredential) => {\r\n      // Signed in\r\n      var user = userCredential.user;\r\n      // ...\r\n      mensagemLoginSucesso();\r\n      return user;\r\n    })\r\n    .catch((error) => {\r\n      var errorCode = error.code;\r\n      var errorMessage = error.message;\r\n    });\r\n  return user;\r\n};\r\n\r\nconst logout = async () => {\r\n  auth\r\n    .signOut()\r\n    .then(() => {\r\n      console.log(\"logged out\");\r\n    })\r\n    .catch((error) => {\r\n      // An error happened.\r\n    });\r\n};\r\n\r\nconst getLoginState = async () => {\r\n  auth.onAuthStateChanged((user) => {\r\n    if (user) {\r\n      // User is signed in, see docs for a list of available properties\r\n      // https://firebase.google.com/docs/reference/js/firebase.User\r\n      var uid = user.uid;\r\n      // ...\r\n    } else {\r\n      // User is signed out\r\n      // ...\r\n    }\r\n  });\r\n};\r\n\r\nconst setWatcher = (fn) => {\r\n  auth.onAuthStateChanged(fn);\r\n};\r\n\r\nconst getCurrentUser = () => {\r\n  const user = auth.currentUser;\r\n  return user;\r\n};\r\n\r\nconst atualizarPerfil = (dados) => {\r\n  //dados = { displayName: \"Cristian W.\", telefone: \"(55) 99999-9999\", cpf: \"012.345.678-90\" };\r\n  const user = getCurrentUser();\r\n  if (user) {\r\n    user.updateProfile(dados)\r\n  }\r\n}\r\n\r\nconst getNomeUser = () => {\r\n  //Posteriormente, da pra buscar esse e-mail na collection de usuarios pra descobrir o nome\r\n  return auth.currentUser.email;\r\n}\r\n\r\nexport {\r\n  createCredentials,\r\n  resetSenha,\r\n  login,\r\n  logout,\r\n  getLoginState,\r\n  getCurrentUser,\r\n  setWatcher,\r\n  getNomeUser,\r\n  loginAnonimo\r\n};\r\n"]}]}