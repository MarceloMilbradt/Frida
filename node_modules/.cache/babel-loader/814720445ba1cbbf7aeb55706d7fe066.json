{"remainingRequest":"E:\\AppFrida\\node_modules\\babel-loader\\lib\\index.js!E:\\AppFrida\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\AppFrida\\src\\controller\\ctlAjuda.js","dependencies":[{"path":"E:\\AppFrida\\src\\controller\\ctlAjuda.js","mtime":1631997978686},{"path":"E:\\AppFrida\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\AppFrida\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\AppFrida\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovQXBwRnJpZGEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRTovQXBwRnJpZGEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAqIGFzIGRiIGZyb20gIi4vZmlyZWJhc2UiOwppbXBvcnQgeyBsb2dpbkFub25pbW8sIGxvZ291dCB9IGZyb20gIi4vQXV0aFNlcnZpY2UiOwoKdmFyIFN3YWwgPSByZXF1aXJlKCdzd2VldGFsZXJ0MicpOwoKdmFyIGxpc3RhclRvZG9zID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX2xpc3RhclRvZG9zID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGRiLmFqdWRhLmdldCgpLnRoZW4oZnVuY3Rpb24gKHNuYXBzaG90KSB7CiAgICAgICAgICAgICAgdmFyIGRhdGEgPSBzbmFwc2hvdC5kb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgICAgIGlkOiBkb2MuaWQKICAgICAgICAgICAgICAgIH0sIGRvYy5kYXRhKCkpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHJldHVybiBkYXRhOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIGZ1bmN0aW9uIGxpc3RhclRvZG9zKCkgewogICAgcmV0dXJuIF9saXN0YXJUb2Rvcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgcmV0dXJuIGxpc3RhclRvZG9zOwp9KCk7Cgp2YXIgYnVjYXJQb3JJZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9idWNhclBvcklkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihpZCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gZGIuYWp1ZGEuZG9jKGlkKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgICAgICBpZiAoIWRvYy5leGlzdHMpIHJldHVybjsKICAgICAgICAgICAgICByZXR1cm4gZG9jLmRhdGEoKTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJybyBhbyBidXNjYXIgQXZhbGlhw6fDo28iLCBlcnJvcik7CiAgICAgICAgICAgICAgU3dhbC5maXJlKCJFcnJvISIsICJPIGPDs2RpZ28gZGEgQWp1ZGEgZm9ybmVjaWRvIG7Do28gZXhpc3RlISIsICJlcnJvciIpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDIuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwoKICBmdW5jdGlvbiBidWNhclBvcklkKF94KSB7CiAgICByZXR1cm4gX2J1Y2FyUG9ySWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIHJldHVybiBidWNhclBvcklkOwp9KCk7Cgp2YXIgaW5jbHVpciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9pbmNsdWlyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhkYWRvcykgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gbG9naW5Bbm9uaW1vKCk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgZGIuYWp1ZGEuYWRkKGRhZG9zKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBsb2dvdXQoKTsKICAgICAgICAgICAgICBTd2FsLmZpcmUoIlNhbHZvISIsICJPIHBlZGlkbyBkZSBhanVkYSBmb2kgc2Fsdm8gY29tIHN1Y2Vzc28hIiwgInN1Y2Nlc3MiKTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJybyBhbyBpbmNsdWlyIGF2YWxpYcOnw6NvIiwgZXJyb3IpOwogICAgICAgICAgICAgIFN3YWwuZmlyZSgiRXJybyEiLCAiSG91dmUgdW0gcHJvYmxlbWEgYW8gdGVudGFyIGluY2x1aXIgbyBwZWRpZG8gZGUgYWp1ZGEhIiwgImVycm9yIik7CiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUzKTsKICB9KSk7CgogIGZ1bmN0aW9uIGluY2x1aXIoX3gyKSB7CiAgICByZXR1cm4gX2luY2x1aXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIHJldHVybiBpbmNsdWlyOwp9KCk7Cgp2YXIgYWx0ZXJhciA9IGZ1bmN0aW9uIGFsdGVyYXIoaWQsIGRhZG9zKSB7CiAgcmV0dXJuIGRiLmFqdWRhLmRvYyhpZCkudXBkYXRlKGRhZG9zKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgIFN3YWwuZmlyZSgiQXR1YWxpemFkbyEiLCAiTyBwZWRpZG8gZGUgYWp1ZGEgZm9pIGF0dWFsaXphZG8gY29tIHN1Y2Vzc28hIiwgInN1Y2Nlc3MiKTsKICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoIkVycm8gYW8gYWx0ZXJhciBhdmFsaWHDp8OjbyIsIGVycm9yKTsKICAgIFN3YWwuZmlyZSgiRXJybyEiLCAiSG91dmUgdW0gcHJvYmxlbWEgYW8gdGVudGFyIGFsdGVyYXIgbyBwZWRpZG8gZGUgYWp1ZGEhIiwgImVycm9yIik7CiAgfSk7Cn07Cgp2YXIgZXhjbHVpciA9IGZ1bmN0aW9uIGV4Y2x1aXIoaWQpIHsKICByZXR1cm4gU3dhbC5maXJlKHsKICAgIHRpdGxlOiAiQXRlbsOnw6NvIiwKICAgIHRleHQ6ICJEZXNlamEgcmVhbG1lbnRlIGV4Y2x1aXIgbyByZWdpc3Rybz8iLAogICAgaWNvbjogIndhcm5pbmciLAogICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiU2ltLCBleGNsdWlyISIsCiAgICBjYW5jZWxCdXR0b25UZXh0OiAiQ2FuY2VsYXIiCiAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7CiAgICAgIGRiLmFqdWRhLmRvYyhpZCkuZGVsZXRlKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgU3dhbC5maXJlKCJEZWxldGFkbyEiLCAiTyBwZWRpZG8gZGUgYWp1ZGEgZm9pIGRlbGV0YWRvIGNvbSBzdWNlc3NvISIsICJzdWNjZXNzIik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm8gYW8gZXhjbHVpciBhdmFsaWHDp8OjbyIsIGVycm9yKTsKICAgICAgICBTd2FsLmZpcmUoIkVycm8hIiwgIkhvdXZlIHVtIHByb2JsZW1hIGFvIHRlbnRhciBleGNsdWlyIG8gcGVkaWRvIGRlIGFqdWRhISIsICJlcnJvciIpOwogICAgICB9KTsKICAgIH0KICB9KTsKfTsKCmV4cG9ydCB7IGxpc3RhclRvZG9zLCBidWNhclBvcklkLCBpbmNsdWlyLCBhbHRlcmFyLCBleGNsdWlyIH07"},{"version":3,"sources":["E:/AppFrida/src/controller/ctlAjuda.js"],"names":["db","loginAnonimo","logout","Swal","require","listarTodos","ajuda","get","then","snapshot","data","docs","map","doc","id","bucarPorId","exists","catch","error","console","fire","incluir","dados","add","alterar","update","excluir","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","delete"],"mappings":"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","sourcesContent":["import * as db from \"./firebase\";\r\nimport {loginAnonimo, logout} from \"./AuthService\";\r\nconst Swal = require('sweetalert2')\r\n\r\n\r\nvar listarTodos = async function listarTodos() {\r\n    return await db.ajuda.get().then((snapshot) => {\r\n        const data = snapshot.docs.map((doc) => ({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n        }));\r\n        return data;\r\n    });\r\n}\r\n\r\nvar bucarPorId = async function bucarPorId(id) {\r\n    return await db.ajuda\r\n        .doc(id).get()\r\n        .then((doc) => {\r\n            if (!doc.exists) return;\r\n            return doc.data();\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Erro ao buscar Avaliação\", error);\r\n            Swal.fire(\"Erro!\", \"O código da Ajuda fornecido não existe!\", \"error\");\r\n        });\r\n}\r\n\r\nvar incluir = async function incluir(dados) {\r\n    await loginAnonimo();\r\n    return db.ajuda\r\n        .add(dados)\r\n        .then(() => {\r\n            logout()\r\n            Swal.fire(\"Salvo!\", \"O pedido de ajuda foi salvo com sucesso!\", \"success\");\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Erro ao incluir avaliação\", error);\r\n            Swal.fire(\"Erro!\", \"Houve um problema ao tentar incluir o pedido de ajuda!\", \"error\");\r\n        });\r\n}\r\n\r\nvar alterar = function alterar(id, dados) {\r\n    return db.ajuda\r\n        .doc(id)\r\n        .update(dados)\r\n        .then(() => {\r\n            Swal.fire(\"Atualizado!\", \"O pedido de ajuda foi atualizado com sucesso!\", \"success\");\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Erro ao alterar avaliação\", error);\r\n            Swal.fire(\"Erro!\", \"Houve um problema ao tentar alterar o pedido de ajuda!\", \"error\");\r\n        });\r\n}\r\n\r\nvar excluir = function excluir(id) {\r\n    return Swal.fire({\r\n        title: \"Atenção\",\r\n        text: \"Deseja realmente excluir o registro?\",\r\n        icon: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#3085d6\",\r\n        cancelButtonColor: \"#d33\",\r\n        confirmButtonText: \"Sim, excluir!\",\r\n        cancelButtonText: \"Cancelar\",\r\n    }).then((result) => {\r\n        if (result.isConfirmed) {\r\n            db.ajuda\r\n                .doc(id)\r\n                .delete()\r\n                .then(() => {\r\n                    Swal.fire(\"Deletado!\", \"O pedido de ajuda foi deletado com sucesso!\", \"success\");\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Erro ao excluir avaliação\", error);\r\n                    Swal.fire(\"Erro!\", \"Houve um problema ao tentar excluir o pedido de ajuda!\", \"error\");\r\n                });\r\n        }\r\n    });\r\n}\r\n\r\nexport {\r\n    listarTodos,\r\n    bucarPorId,\r\n    incluir,\r\n    alterar,\r\n    excluir\r\n}"]}]}