{"remainingRequest":"E:\\AppFrida\\node_modules\\babel-loader\\lib\\index.js!E:\\AppFrida\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\AppFrida\\src\\controller\\ctlUsuario.js","dependencies":[{"path":"E:\\AppFrida\\src\\controller\\ctlUsuario.js","mtime":1629237211177},{"path":"E:\\AppFrida\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\AppFrida\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\AppFrida\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovQXBwRnJpZGEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRTovQXBwRnJpZGEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAqIGFzIGRiIGZyb20gIi4vZmlyZWJhc2UiOwoKdmFyIFN3YWwgPSByZXF1aXJlKCdzd2VldGFsZXJ0MicpOwoKdmFyIHZhbGlkYUxvZ2luID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3ZhbGlkYUxvZ2luID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGxvZ2luLCBzZW5oYSkgewogICAgdmFyIGlzVmFsaWRvLCByZXRvcm5vOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpc1ZhbGlkbyA9IGZhbHNlOwogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBkYi51c3VhcmlvLndoZXJlKCJsb2dpbiIsICI9PSIsIGxvZ2luKS53aGVyZSgic2VuaGEiLCAiPT0iLCBzZW5oYSkuZ2V0KCk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICByZXRvcm5vID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgaWYgKHJldG9ybm8uc2l6ZSA+IDApIGlzVmFsaWRvID0gdHJ1ZTsKICAgICAgICAgICAgY29uc29sZS5sb2coImlzdmFsaWRvIiwgaXNWYWxpZG8pOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBpc1ZhbGlkbyk7CgogICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEwOwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgZ2V0dGluZyBkb2N1bWVudHMnLCBfY29udGV4dC50MCk7CgogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDEwXV0pOwogIH0pKTsKCiAgZnVuY3Rpb24gdmFsaWRhTG9naW4oX3gsIF94MikgewogICAgcmV0dXJuIF92YWxpZGFMb2dpbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgcmV0dXJuIHZhbGlkYUxvZ2luOwp9KCk7Cgp2YXIgbGlzdGFyVG9kb3MgPSBmdW5jdGlvbiBsaXN0YXJUb2RvcygpIHsKICBkYi51c3VhcmlvLmdldCgpLnRoZW4oZnVuY3Rpb24gKHNuYXBzaG90KSB7CiAgICB2YXIgZGF0YSA9IHNuYXBzaG90LmRvY3MubWFwKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoewogICAgICAgIGlkOiBkb2MuaWQKICAgICAgfSwgZG9jLmRhdGEoKSk7CiAgICB9KTsKICAgIGNvbnNvbGUubG9nKCJUb2RvcyBVc3VhcmlvcyA9ICIsIGRhdGEpOwogIH0pOwp9OwoKdmFyIGJ1Y2FyUG9ySWQgPSBmdW5jdGlvbiBidWNhclBvcklkKGlkKSB7CiAgZGIudXN1YXJpby5kb2MoaWQpLmdldCgpLnRoZW4oZnVuY3Rpb24gKGRvYykgewogICAgaWYgKCFkb2MuZXhpc3RzKSByZXR1cm47CiAgICBjb25zb2xlLmxvZygiRGFkb3MgZG8gVXN1w6FyaW8gU2VsZWNpb25hZG8gPSAiLCBkb2MuZGF0YSgpKTsKICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoIkVycm8gYW8gYnVzY2FyIFVzdcOhcmlvIiwgZXJyb3IpOwogICAgU3dhbC5maXJlKCJFcnJvISIsICJBIGPDs2RpZ28gZG8gVXN1w6FyaW8gZm9ybmVjaWRvIG7Do28gZXhpc3RlISIsICJlcnJvciIpOwogIH0pOwp9OwoKdmFyIGluY2x1aXIgPSBmdW5jdGlvbiBpbmNsdWlyKGRhZG9zKSB7CiAgZGIudXN1YXJpby5hZGQoZGFkb3MpLnRoZW4oZnVuY3Rpb24gKHJlZikgewogICAgU3dhbC5maXJlKCJTYWx2byEiLCAiTyB1c3XDoXJpbyBmb2kgc2Fsdm8gY29tIHN1Y2Vzc28hIiwgInN1Y2Nlc3MiKTsKICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoIkVycm8gYW8gaW5jbHVpciB1c3XDoXJpbyIsIGVycm9yKTsKICAgIFN3YWwuZmlyZSgiRXJybyEiLCAiSG91dmUgdW0gcHJvYmxlbWEgYW8gdGVudGFyIGluY2x1aXIgbyB1c3XDoXJpbyEiLCAiZXJyb3IiKTsKICB9KTsKfTsKCnZhciBhbHRlcmFyID0gZnVuY3Rpb24gYWx0ZXJhcihpZCwgZGFkb3MpIHsKICBkYi51c3VhcmlvLmRvYyhpZCkudXBkYXRlKGRhZG9zKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgIFN3YWwuZmlyZSgiQXR1YWxpemFkbyEiLCAiTyB1c3XDoXJpbyBmb2kgYXR1YWxpemFkbyBjb20gc3VjZXNzbyEiLCAic3VjY2VzcyIpOwogIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcigiRXJybyBhbyBhbHRlcmFyIHVzdcOhcmlvIiwgZXJyb3IpOwogICAgU3dhbC5maXJlKCJFcnJvISIsICJIb3V2ZSB1bSBwcm9ibGVtYSBhbyB0ZW50YXIgYWx0ZXJhciBvIHVzdcOhcmlvISIsICJlcnJvciIpOwogIH0pOwp9OwoKdmFyIGV4Y2x1aXIgPSBmdW5jdGlvbiBleGNsdWlyKGlkKSB7CiAgZGIudXN1YXJpby5kb2MoaWQpLmRlbGV0ZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgU3dhbC5maXJlKCJEZWxldGFkbyEiLCAiU2V1IHVzdcOhcmlvIGZvaSBkZWxldGFkbyBjb20gc3VjZXNzbyEiLCAic3VjY2VzcyIpOwogIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcigiRXJybyBhbyBleGNsdWlyIHVzdcOhcmlvIiwgZXJyb3IpOwogICAgU3dhbC5maXJlKCJFcnJvISIsICJIb3V2ZSB1bSBwcm9ibGVtYSBhbyB0ZW50YXIgZXhjbHVpciBvIHVzdcOhcmlvISIsICJlcnJvciIpOwogIH0pOwp9OwoKZXhwb3J0IHsgdmFsaWRhTG9naW4sIGxpc3RhclRvZG9zLCBidWNhclBvcklkLCBpbmNsdWlyLCBhbHRlcmFyLCBleGNsdWlyIH07"},{"version":3,"sources":["E:/AppFrida/src/controller/ctlUsuario.js"],"names":["db","Swal","require","validaLogin","login","senha","isValido","usuario","where","get","retorno","size","console","log","listarTodos","then","snapshot","data","docs","map","doc","id","bucarPorId","exists","catch","error","fire","incluir","dados","add","ref","alterar","update","excluir","delete"],"mappings":"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","sourcesContent":["import * as db from \"./firebase\";\r\nconst Swal = require('sweetalert2')\r\n\r\nvar validaLogin = async function validaLogin(login, senha) {\r\n    var isValido = false;\r\n    try {\r\n        var retorno = await db.usuario\r\n            .where(\"login\", \"==\", login)\r\n            .where(\"senha\", \"==\", senha)\r\n            .get();\r\n        if (retorno.size > 0) isValido = true;\r\n\r\n        console.log(\"isvalido\", isValido)\r\n        return isValido;\r\n    }\r\n    catch (err) {\r\n        console.log('Error getting documents', err);\r\n    }\r\n}\r\n\r\nvar listarTodos = function listarTodos() {\r\n    db.usuario.get().then((snapshot) => {\r\n        const data = snapshot.docs.map((doc) => ({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n        }));\r\n        console.log(\"Todos Usuarios = \", data);\r\n    });\r\n}\r\n\r\nvar bucarPorId = function bucarPorId(id) {\r\n    db.usuario\r\n        .doc(id).get()\r\n        .then((doc) => {\r\n            if (!doc.exists) return;\r\n            console.log(\"Dados do Usuário Selecionado = \", doc.data());\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Erro ao buscar Usuário\", error);\r\n            Swal.fire(\"Erro!\", \"A código do Usuário fornecido não existe!\", \"error\");\r\n        });\r\n}\r\n\r\nvar incluir = function incluir(dados) {\r\n    db.usuario\r\n        .add(dados)\r\n        .then((ref) => {\r\n            Swal.fire(\"Salvo!\", \"O usuário foi salvo com sucesso!\", \"success\");\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Erro ao incluir usuário\", error);\r\n            Swal.fire(\"Erro!\", \"Houve um problema ao tentar incluir o usuário!\", \"error\");\r\n        });\r\n}\r\n\r\nvar alterar = function alterar(id, dados) {\r\n    db.usuario\r\n        .doc(id)\r\n        .update(dados)\r\n        .then(() => {\r\n            Swal.fire(\"Atualizado!\", \"O usuário foi atualizado com sucesso!\", \"success\");\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Erro ao alterar usuário\", error);\r\n            Swal.fire(\"Erro!\", \"Houve um problema ao tentar alterar o usuário!\", \"error\");\r\n        });\r\n}\r\n\r\nvar excluir = function excluir(id) {\r\n    db.usuario\r\n        .doc(id)\r\n        .delete()\r\n        .then(() => {\r\n            Swal.fire(\"Deletado!\", \"Seu usuário foi deletado com sucesso!\", \"success\");\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Erro ao excluir usuário\", error);\r\n            Swal.fire(\"Erro!\", \"Houve um problema ao tentar excluir o usuário!\", \"error\");\r\n        });\r\n}\r\n\r\nexport {\r\n    validaLogin,\r\n    listarTodos,\r\n    bucarPorId,\r\n    incluir,\r\n    alterar,\r\n    excluir\r\n}"]}]}