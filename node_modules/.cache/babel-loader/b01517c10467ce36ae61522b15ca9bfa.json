{"remainingRequest":"E:\\AppFrida\\node_modules\\babel-loader\\lib\\index.js!E:\\AppFrida\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\AppFrida\\src\\controller\\ctlUsuario.js","dependencies":[{"path":"E:\\AppFrida\\src\\controller\\ctlUsuario.js","mtime":1631916397741},{"path":"E:\\AppFrida\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\AppFrida\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\AppFrida\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovQXBwRnJpZGEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRTovQXBwRnJpZGEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAqIGFzIGRiIGZyb20gIi4vZmlyZWJhc2UiOwppbXBvcnQgeyBjcmVhdGVDcmVkZW50aWFscyB9IGZyb20gIi4vQXV0aFNlcnZpY2UiOwoKdmFyIFN3YWwgPSByZXF1aXJlKCJzd2VldGFsZXJ0MiIpOwoKdmFyIGxpc3RhclRvZG9zID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX2xpc3RhclRvZG9zID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGRiLnVzdWFyaW8ub3JkZXJCeSgibm9tZSIsICJhc2MiKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgICAgICAgICAgIHZhciBkYXRhID0gc25hcHNob3QuZG9jcy5tYXAoZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAgICAgICBpZDogZG9jLmlkCiAgICAgICAgICAgICAgICB9LCBkb2MuZGF0YSgpKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dC5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICBmdW5jdGlvbiBsaXN0YXJUb2RvcygpIHsKICAgIHJldHVybiBfbGlzdGFyVG9kb3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIHJldHVybiBsaXN0YXJUb2RvczsKfSgpOwoKdmFyIGJ1Y2FyUG9ySWQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfYnVjYXJQb3JJZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoaWQpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGRiLnVzdWFyaW8uZG9jKGlkKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgICAgICBpZiAoIWRvYy5leGlzdHMpIHJldHVybjsKICAgICAgICAgICAgICByZXR1cm4gZG9jLmRhdGEoKTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJybyBhbyBidXNjYXIgVXN1w6FyaW8iLCBlcnJvcik7CiAgICAgICAgICAgICAgU3dhbC5maXJlKCJFcnJvISIsICJBIGPDs2RpZ28gZG8gVXN1w6FyaW8gZm9ybmVjaWRvIG7Do28gZXhpc3RlISIsICJlcnJvciIpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDIuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwoKICBmdW5jdGlvbiBidWNhclBvcklkKF94KSB7CiAgICByZXR1cm4gX2J1Y2FyUG9ySWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIHJldHVybiBidWNhclBvcklkOwp9KCk7Cgp2YXIgaW5jbHVpciA9IGZ1bmN0aW9uIGluY2x1aXIoZGFkb3MpIHsKICByZXR1cm4gY3JlYXRlQ3JlZGVudGlhbHMoZGFkb3MuZW1haWwpLnRoZW4oZnVuY3Rpb24gKHJldG9ybm8pIHsKICAgIGRiLnVzdWFyaW8uYWRkKGRhZG9zKS50aGVuKGZ1bmN0aW9uIChyZWYpIHsKICAgICAgU3dhbC5maXJlKCJTYWx2byEiLCAiTyB1c3XDoXJpbyBmb2kgc2Fsdm8gY29tIHN1Y2Vzc28hIiwgInN1Y2Nlc3MiKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb25zb2xlLmVycm9yKCJFcnJvIGFvIGluY2x1aXIgdXN1w6FyaW8iLCBlcnJvcik7CiAgICAgIFN3YWwuZmlyZSgiRXJybyEiLCAiSG91dmUgdW0gcHJvYmxlbWEgYW8gdGVudGFyIGluY2x1aXIgbyB1c3XDoXJpbyEiLCAiZXJyb3IiKTsKICAgIH0pOwogIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcigiRXJybyBhbyBpbmNsdWlyIG8gdXN1w6FyaW8gbm8gRmlyZWJhc2UgQXV0aGVudGljYXRpb24iLCBlcnJvcik7CiAgICBTd2FsLmZpcmUoIkVycm8hIiwgIkhvdXZlIHVtIHByb2JsZW1hIGFvIHRlbnRhciBpbmNsdWlyIGEgYXV0ZW50aWNhw6fDo28gZG8gdXN1w6FyaW8hIiwgImVycm9yIik7CiAgfSk7Cn07Cgp2YXIgYWx0ZXJhciA9IGZ1bmN0aW9uIGFsdGVyYXIoaWQsIGRhZG9zKSB7CiAgcmV0dXJuIGRiLnVzdWFyaW8uZG9jKGlkKS51cGRhdGUoZGFkb3MpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgU3dhbC5maXJlKCJBdHVhbGl6YWRvISIsICJPIHVzdcOhcmlvIGZvaSBhdHVhbGl6YWRvIGNvbSBzdWNlc3NvISIsICJzdWNjZXNzIik7CiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICBjb25zb2xlLmVycm9yKCJFcnJvIGFvIGFsdGVyYXIgdXN1w6FyaW8iLCBlcnJvcik7CiAgICBTd2FsLmZpcmUoIkVycm8hIiwgIkhvdXZlIHVtIHByb2JsZW1hIGFvIHRlbnRhciBhbHRlcmFyIG8gdXN1w6FyaW8hIiwgImVycm9yIik7CiAgfSk7Cn07Cgp2YXIgZXhjbHVpciA9IGZ1bmN0aW9uIGV4Y2x1aXIoaWQpIHsKICByZXR1cm4gU3dhbC5maXJlKHsKICAgIHRpdGxlOiAiQXRlbsOnw6NvIiwKICAgIHRleHQ6ICJEZXNlamEgcmVhbG1lbnRlIGV4Y2x1aXIgbyByZWdpc3Rybz8iLAogICAgaWNvbjogIndhcm5pbmciLAogICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiU2ltLCBleGNsdWlyISIsCiAgICBjYW5jZWxCdXR0b25UZXh0OiAiQ2FuY2VsYXIiCiAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7CiAgICAgIGRiLnVzdWFyaW8uZG9jKGlkKS5kZWxldGUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBTd2FsLmZpcmUoIkRlbGV0YWRvISIsICJTZXUgdXN1w6FyaW8gZm9pIGRlbGV0YWRvIGNvbSBzdWNlc3NvISIsICJzdWNjZXNzIik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm8gYW8gZXhjbHVpciB1c3XDoXJpbyIsIGVycm9yKTsKICAgICAgICBTd2FsLmZpcmUoIkVycm8hIiwgIkhvdXZlIHVtIHByb2JsZW1hIGFvIHRlbnRhciBleGNsdWlyIG8gdXN1w6FyaW8hIiwgImVycm9yIik7CiAgICAgIH0pOwogICAgfQogIH0pOwp9OwoKZXhwb3J0IHsgbGlzdGFyVG9kb3MsIGJ1Y2FyUG9ySWQsIGluY2x1aXIsIGFsdGVyYXIsIGV4Y2x1aXIgfTs="},{"version":3,"sources":["E:/AppFrida/src/controller/ctlUsuario.js"],"names":["db","createCredentials","Swal","require","listarTodos","usuario","orderBy","get","then","snapshot","data","docs","map","doc","id","bucarPorId","exists","catch","error","console","fire","incluir","dados","email","retorno","add","ref","alterar","update","excluir","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","delete"],"mappings":"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","sourcesContent":["import * as db from \"./firebase\";\r\nimport { createCredentials } from \"./AuthService\";\r\nconst Swal = require(\"sweetalert2\");\r\n\r\nvar listarTodos = async function listarTodos() {\r\n  return await db.usuario\r\n    .orderBy(\"nome\", \"asc\")\r\n    .get()\r\n    .then((snapshot) => {\r\n      const data = snapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n      return data;\r\n    });\r\n};\r\n\r\nvar bucarPorId = async function bucarPorId(id) {\r\n  return await db.usuario\r\n    .doc(id)\r\n    .get()\r\n    .then((doc) => {\r\n      if (!doc.exists) return;\r\n      return doc.data();\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Erro ao buscar Usuário\", error);\r\n      Swal.fire(\"Erro!\", \"A código do Usuário fornecido não existe!\", \"error\");\r\n    });\r\n};\r\n\r\nvar incluir = function incluir(dados) {\r\n  return createCredentials(dados.email)\r\n    .then((retorno) => {\r\n      db.usuario\r\n        .add(dados)\r\n        .then((ref) => {\r\n          Swal.fire(\"Salvo!\", \"O usuário foi salvo com sucesso!\", \"success\");\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Erro ao incluir usuário\", error);\r\n          Swal.fire(\r\n            \"Erro!\",\r\n            \"Houve um problema ao tentar incluir o usuário!\",\r\n            \"error\"\r\n          );\r\n        });\r\n    })\r\n    .catch((error) => {\r\n      console.error(\r\n        \"Erro ao incluir o usuário no Firebase Authentication\",\r\n        error\r\n      );\r\n      Swal.fire(\r\n        \"Erro!\",\r\n        \"Houve um problema ao tentar incluir a autenticação do usuário!\",\r\n        \"error\"\r\n      );\r\n    });\r\n};\r\n\r\nvar alterar = function alterar(id, dados) {\r\n  return db.usuario\r\n    .doc(id)\r\n    .update(dados)\r\n    .then(() => {\r\n      Swal.fire(\r\n        \"Atualizado!\",\r\n        \"O usuário foi atualizado com sucesso!\",\r\n        \"success\"\r\n      );\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Erro ao alterar usuário\", error);\r\n      Swal.fire(\r\n        \"Erro!\",\r\n        \"Houve um problema ao tentar alterar o usuário!\",\r\n        \"error\"\r\n      );\r\n    });\r\n};\r\n\r\nvar excluir = function excluir(id) {\r\n  return Swal.fire({\r\n    title: \"Atenção\",\r\n    text: \"Deseja realmente excluir o registro?\",\r\n    icon: \"warning\",\r\n    showCancelButton: true,\r\n    confirmButtonColor: \"#3085d6\",\r\n    cancelButtonColor: \"#d33\",\r\n    confirmButtonText: \"Sim, excluir!\",\r\n    cancelButtonText: \"Cancelar\",\r\n  }).then((result) => {\r\n    if (result.isConfirmed) {\r\n      db.usuario\r\n        .doc(id)\r\n        .delete()\r\n        .then(() => {\r\n          Swal.fire(\r\n            \"Deletado!\",\r\n            \"Seu usuário foi deletado com sucesso!\",\r\n            \"success\"\r\n          );\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Erro ao excluir usuário\", error);\r\n          Swal.fire(\r\n            \"Erro!\",\r\n            \"Houve um problema ao tentar excluir o usuário!\",\r\n            \"error\"\r\n          );\r\n        });\r\n    }\r\n  });\r\n};\r\n\r\nexport { listarTodos, bucarPorId, incluir, alterar, excluir };\r\n"]}]}