{"remainingRequest":"E:\\AppFrida\\node_modules\\babel-loader\\lib\\index.js!E:\\AppFrida\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!E:\\AppFrida\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\AppFrida\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\AppFrida\\src\\views\\Denuncia.vue?vue&type=template&id=7edcfb4f&scoped=true","dependencies":[{"path":"E:\\AppFrida\\src\\views\\Denuncia.vue","mtime":1634503626800},{"path":"E:\\AppFrida\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\AppFrida\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\AppFrida\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1628298225000},{"path":"E:\\AppFrida\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\AppFrida\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkIH0gZnJvbSAidnVlIjsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9zdGVwcyA9IF9yZXNvbHZlQ29tcG9uZW50KCJzdGVwcyIpOwoKICB2YXIgX2NvbXBvbmVudF9Gb3JtQWRpY2lvbmFsID0gX3Jlc29sdmVDb21wb25lbnQoIkZvcm1BZGljaW9uYWwiKTsKCiAgdmFyIF9jb21wb25lbnRfRm9ybUZvb3RlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJGb3JtRm9vdGVyIik7CgogIHZhciBfY29tcG9uZW50X2VsX2NhcmQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtY2FyZCIpOwoKICB2YXIgX2NvbXBvbmVudF9Gb3JtUGVzc29hID0gX3Jlc29sdmVDb21wb25lbnQoIkZvcm1QZXNzb2EiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9zdGVwcywgewogICAgdGFiOiAkZGF0YS50YWIKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsidGFiIl0pLCAkZGF0YS50YWIgPT09IDIgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9jYXJkLCB7CiAgICBrZXk6IDAsCiAgICBjbGFzczogImJveC1jYXJkIgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Gb3JtQWRpY2lvbmFsLCB7CiAgICAgICAgbW9kZWxWYWx1ZTogJGRhdGEuZGVudW5jaWEsCiAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiAkZGF0YS5kZW51bmNpYSA9ICRldmVudDsKICAgICAgICB9KSwKICAgICAgICBvbkJ0bkNsaWNrTmV4dDogJG9wdGlvbnMub25DbGlja1NhdmVTdWJtaXQsCiAgICAgICAgdGV4dDogJ0luZm9ybWFjb2VzIEFkaWNpb25haXMnCiAgICAgIH0sIG51bGwsIDgKICAgICAgLyogUFJPUFMgKi8KICAgICAgLCBbIm1vZGVsVmFsdWUiLCAib25CdG5DbGlja05leHQiXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X0Zvcm1Gb290ZXIsIHsKICAgICAgICBvbkJ0bkNsaWNrUHJldjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gJG9wdGlvbnMuY2hhbmdlVGFiKC0xKTsKICAgICAgICB9KSwKICAgICAgICBvbkJ0bkNsaWNrTmV4dDogJG9wdGlvbnMub25DbGlja1NhdmVTdWJtaXQsCiAgICAgICAgdGV4dDogW251bGwsICdTYWx2YXIhJ10KICAgICAgfSwgbnVsbCwgOAogICAgICAvKiBQUk9QUyAqLwogICAgICAsIFsib25CdG5DbGlja05leHQiXSldOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCAkZGF0YS50YWIgPT09IDAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9jYXJkLCB7CiAgICBrZXk6IDEsCiAgICBjbGFzczogImJveC1jYXJkIgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Gb3JtUGVzc29hLCB7CiAgICAgICAgdGV4dDogJ0RhZG9zIGRhIFbDrXRpbWEnLAogICAgICAgIG9uRm9ybVZhbGlkYXRlOiAkb3B0aW9ucy5zZXRWaXRpbWFWYWxpZCwKICAgICAgICBtb2RlbFZhbHVlOiAkZGF0YS5kZW51bmNpYS52aXRpbWEsCiAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiAkZGF0YS5kZW51bmNpYS52aXRpbWEgPSAkZXZlbnQ7CiAgICAgICAgfSksCiAgICAgICAgcmVmOiAidml0aW1hIgogICAgICB9LCBudWxsLCA4CiAgICAgIC8qIFBST1BTICovCiAgICAgICwgWyJvbkZvcm1WYWxpZGF0ZSIsICJtb2RlbFZhbHVlIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Gb3JtRm9vdGVyLCB7CiAgICAgICAgb25CdG5DbGlja05leHQ6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuICRvcHRpb25zLmNoYW5nZVRhYigrMSwgJ3ZpdGltYScpOwogICAgICAgIH0pLAogICAgICAgIG9uQnRuQ2xpY2tQcmV2OiAkb3B0aW9ucy5nb0JhY2ssCiAgICAgICAgdGV4dDogWydDYW5jZWxhcicsIG51bGxdCiAgICAgIH0sIG51bGwsIDgKICAgICAgLyogUFJPUFMgKi8KICAgICAgLCBbIm9uQnRuQ2xpY2tQcmV2Il0pXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgJGRhdGEudGFiID09PSAxID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfY2FyZCwgewogICAga2V5OiAyLAogICAgY2xhc3M6ICJib3gtY2FyZCIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRm9ybVBlc3NvYSwgewogICAgICAgIHRleHQ6ICdEYWRvcyBkbyhhKSBBZ3Jlc3NvcihhKScsCiAgICAgICAgb25Gb3JtVmFsaWRhdGU6ICRvcHRpb25zLnNldEFncmVzc29yVmFsaWQsCiAgICAgICAgbW9kZWxWYWx1ZTogJGRhdGEuZGVudW5jaWEuYWdyZXNzb3IsCiAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbNF0gfHwgKF9jYWNoZVs0XSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiAkZGF0YS5kZW51bmNpYS5hZ3Jlc3NvciA9ICRldmVudDsKICAgICAgICB9KSwKICAgICAgICByZWY6ICJhZ3Jlc3NvciIKICAgICAgfSwgbnVsbCwgOAogICAgICAvKiBQUk9QUyAqLwogICAgICAsIFsidGV4dCIsICJvbkZvcm1WYWxpZGF0ZSIsICJtb2RlbFZhbHVlIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Gb3JtRm9vdGVyLCB7CiAgICAgICAgb25CdG5DbGlja05leHQ6IF9jYWNoZVs1XSB8fCAoX2NhY2hlWzVdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuICRvcHRpb25zLmNoYW5nZVRhYigrMSwgJ2FncmVzc29yJyk7CiAgICAgICAgfSksCiAgICAgICAgb25CdG5DbGlja1ByZXY6IF9jYWNoZVs2XSB8fCAoX2NhY2hlWzZdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuICRvcHRpb25zLmNoYW5nZVRhYigtMSk7CiAgICAgICAgfSksCiAgICAgICAgaGlkZTogW2ZhbHNlLCBmYWxzZV0KICAgICAgfSldOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSwgNjQKICAvKiBTVEFCTEVfRlJBR01FTlQgKi8KICApOwp9"},{"version":3,"sources":["E:\\AppFrida\\src\\views\\Denuncia.vue"],"names":[],"mappings":";;;;;;;;;;;;6DAEE,YAAA,CAAoB,gBAApB,EAAoB;AAAZ,IAAA,GAAG,EAAE,KAAA,CAAA;AAAO,GAApB,EAAgB,IAAhB,EAAgB;AAAA;AAAhB,IAAgB,CAAA,KAAA,CAAhB,C,EAEgC,KAAA,CAAA,GAAA,KAAG,C,kBAAnC,YAAA,CAGU,kBAHV,EAGU;UAAA;AAHD,IAAA,KAAK,EAAC;AAGL,GAHV,E;sBACE;AAAA,aAAyG,CAAzG,YAAA,CAAyG,wBAAzG,EAAyG;oBAAjF,KAAA,CAAA,QAAiF;;iBAAjF,KAAA,CAAA,QAAA,GAAQ,M;UAAyE;AAAtE,QAAA,cAAc,EAAE,QAAA,CAAA,iBAAsD;AAAlC,QAAA,IAAI,EAAE;AAA4B,OAAzG,E,IAAA,E;;AAAA,Q,gCAAA,CAAyG,EACzG,YAAA,CAA4G,qBAA5G,EAA4G;AAA/F,QAAA,cAAc,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,iBAAE,QAAA,CAAA,SAAA,CAAS,CAAA,CAAT,CAAF;AAAA,SAAA,CAAiF;AAA/D,QAAA,cAAc,EAAE,QAAA,CAAA,iBAA+C;AAA3B,QAAA,IAAI,EAAE,CAAA,IAAA,EAAA,SAAA;AAAqB,OAA5G,E,IAAA,E;;AAAA,Q,kBAAA,CADyG,CAAzG;AAAA,K;;;;GADF,C,uCAKgC,KAAA,CAAA,GAAA,KAAG,C,kBAAnC,YAAA,CAIU,kBAJV,EAIU;UAAA;AAJD,IAAA,KAAK,EAAC;AAIL,GAJV,E;sBACE;AAAA,aACa,CADb,YAAA,CACa,qBADb,EACa;AADA,QAAA,IAAI,EAAE,iBACN;AAD0B,QAAA,cAAa,EAAE,QAAA,CAAA,cACzC;oBADkE,KAAA,CAAA,QAAA,CAAS,MAC3E;;iBADkE,KAAA,CAAA,QAAA,CAAS,MAAT,GAAe,M;UACjF;AADmF,QAAA,GAAG,EAAC;AACvF,OADb,E,IAAA,E;;AAAA,Q,gCAAA,CACa,EACb,YAAA,CAA4G,qBAA5G,EAA4G;AAA/F,QAAA,cAAc,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,iBAAE,QAAA,CAAA,SAAA,CAAS,CAAA,CAAT,EAAS,QAAT,CAAF;AAAA,SAAA,CAAiF;AAArD,QAAA,cAAc,EAAE,QAAA,CAAA,MAAqC;AAA5B,QAAA,IAAI,EAAE,CAAA,UAAA,EAAA,IAAA;AAAsB,OAA5G,E,IAAA,E;;AAAA,Q,kBAAA,CADa,CADb;AAAA,K;;;;GADF,C,uCAMgC,KAAA,CAAA,GAAA,KAAG,C,kBAAnC,YAAA,CAIU,kBAJV,EAIU;UAAA;AAJD,IAAA,KAAK,EAAC;AAIL,GAJV,E;sBACE;AAAA,aACa,CADb,YAAA,CACa,qBADb,EACa;AADA,QAAA,IAAI,EAAE,yBACN;AADkC,QAAA,cAAa,EAAE,QAAA,CAAA,gBACjD;oBAD4E,KAAA,CAAA,QAAA,CAAS,QACrF;;iBAD4E,KAAA,CAAA,QAAA,CAAS,QAAT,GAAiB,M;UAC7F;AAD+F,QAAA,GAAG,EAAC;AACnG,OADb,E,IAAA,E;;AAAA,Q,wCAAA,CACa,EACb,YAAA,CAAiH,qBAAjH,EAAiH;AAApG,QAAA,cAAc,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,iBAAE,QAAA,CAAA,SAAA,CAAS,CAAA,CAAT,EAAS,UAAT,CAAF;AAAA,SAAA,CAAsF;AAAxD,QAAA,cAAc,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,iBAAE,QAAA,CAAA,SAAA,CAAS,CAAA,CAAT,CAAF;AAAA,SAAA,CAA0C;AAAxB,QAAA,IAAI,EAAE,CAAA,KAAA,EAAA,KAAA;AAAkB,OAAjH,CADa,CADb;AAAA,K;;;;GADF,C","sourcesContent":["<template>\r\n\r\n  <steps :tab=\"tab\" />\r\n\r\n  <el-card class=\"box-card\" v-if=\"tab === 2\">\r\n    <FormAdicional v-model=\"denuncia\" @btn-click-next=\"onClickSaveSubmit\" :text=\"'Informacoes Adicionais'\" />\r\n    <FormFooter @btn-click-prev=\"changeTab(-1)\" @btn-click-next=\"onClickSaveSubmit\" :text=\"[null, 'Salvar!']\" />\r\n  </el-card>\r\n\r\n  <el-card class=\"box-card\" v-if=\"tab === 0\">\r\n    <FormPessoa :text=\"'Dados da VÃ­tima'\" @form-validate=\"setVitimaValid\" v-model=\"denuncia.vitima\" ref=\"vitima\">\r\n    </FormPessoa>\r\n    <FormFooter @btn-click-next=\"changeTab(+1, 'vitima')\" @btn-click-prev=\"goBack\" :text=\"['Cancelar', null]\" />\r\n  </el-card>\r\n\r\n  <el-card class=\"box-card\" v-if=\"tab === 1\">\r\n    <FormPessoa :text=\"'Dados do(a) Agressor(a)'\" @form-validate=\"setAgressorValid\" v-model=\"denuncia.agressor\" ref=\"agressor\">\r\n    </FormPessoa>\r\n    <FormFooter @btn-click-next=\"changeTab(+1, 'agressor')\" @btn-click-prev=\"changeTab(-1)\" :hide=\"[false, false]\" />\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport FormPessoa from \"../components/FormPessoa.vue\";\r\nimport FormAdicional from \"../components/FormAdicional.vue\";\r\nimport FormFooter from \"../components/FormFooter.vue\";\r\nimport * as controller from \"../controller/ctlDenuncia\";\r\nimport Steps from \"../components/Steps.vue\";\r\nimport { mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  components: {\r\n    FormPessoa,\r\n    FormAdicional,\r\n    FormFooter,\r\n    Steps,\r\n  },\r\n  data() {\r\n    return {\r\n      id: null,\r\n      tab: 0,\r\n      denuncia: {\r\n        data: new Date().toISOString(),\r\n\r\n        agressao: [],\r\n\r\n        vitima: {\r\n          endereco: {},\r\n          trabalho: {},\r\n          filiacao: {},\r\n          isValid: true,\r\n        },\r\n\r\n        agressor: {\r\n          endereco: {},\r\n          trabalho: {},\r\n          filiacao: {},\r\n          isValid: true,\r\n        },\r\n      },\r\n    };\r\n  },\r\n  async created() {\r\n    let id = this.$route.params.id;\r\n    if (id) {\r\n      let dados = await controller.bucarPorId(id);\r\n      this.denuncia = { ...dados, id };\r\n      this.id = id;\r\n    }\r\n    this.$store.dispatch(\"denuncia/setDenuncia\", this.denuncia);\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      getDenuncia: \"denuncia/getDenuncia\",\r\n      vitimaIsValid: \"denuncia/vitimaIsValid\",\r\n      agressorIsValid: \"denuncia/agressorIsValid\",\r\n      denunciaIsValid: \"denuncia/denunciaIsValid\",\r\n    }),\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      return this.$refs[formName].$refs.form.validate((valid) => valid);\r\n    },\r\n    setVitimaValid(valid) {\r\n      this.$store.dispatch(\"denuncia/setValidVitima\", valid);\r\n      this.denuncia.vitima.valid = valid;\r\n    },\r\n    setAgressorValid(valid) {\r\n      this.$store.dispatch(\"denuncia/setValidAgressor\", valid);\r\n      this.denuncia.agressor.valid = valid;\r\n    },\r\n    async changeTab(tab, formName) {\r\n      let valid = 1;\r\n      if (formName) {\r\n        await this.submitForm(formName);\r\n        if (formName === \"vitima\") valid = this.vitimaIsValid;\r\n        if (formName === \"agressor\") valid = this.agressorIsValid;\r\n      }\r\n      this.tab += tab * valid;\r\n    },\r\n    parseObject(denuncia) {\r\n      delete denuncia.vitima.isValid;\r\n      delete denuncia.vitima.valid;\r\n      delete denuncia.agressor.isValid;\r\n      delete denuncia.agressor.valid;\r\n      return { ...denuncia };\r\n    },\r\n    onClickSaveSubmit() {\r\n      let denuncia = this.parseObject(this.denuncia);\r\n\r\n      if (this.id) {\r\n        controller.alterar(this.id, denuncia).then(() => {\r\n          this.goBack();\r\n        });\r\n      } else {\r\n        const anonima = this.$store.getters.getLogged\r\n        controller.incluir(denuncia, !anonima).then(() => {\r\n          this.goBack();\r\n        });\r\n      }\r\n    },\r\n    goBack() {\r\n      if (this.$store.getters.getLogged)\r\n        this.$router.push({ path: \"/ListarDenuncia\" });\r\n      else this.$router.push({ path: \"/\" });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.box-card {\r\n  margin: 0 0 1.25em 0;\r\n}\r\n.el-icon-warning-outline {\r\n  color: #f56c6c;\r\n}\r\n</style>"],"sourceRoot":""}]}