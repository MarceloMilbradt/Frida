{"remainingRequest":"E:\\AppFrida\\node_modules\\babel-loader\\lib\\index.js!E:\\AppFrida\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\AppFrida\\src\\controller\\ctlFormulario.js","dependencies":[{"path":"E:\\AppFrida\\src\\controller\\ctlFormulario.js","mtime":1632552547437},{"path":"E:\\AppFrida\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\AppFrida\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\AppFrida\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6L0FwcEZyaWRhL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgKiBhcyByZXBvIGZyb20gIi4vY3RsUmVwb3NpdG9yaW9CYXNlIjsKaW1wb3J0IHsgYXZhbGlhY2FvIH0gZnJvbSAiLi9maXJlYmFzZSI7Cgp2YXIgU3dhbCA9IHJlcXVpcmUoJ3N3ZWV0YWxlcnQyJyk7CgpyZXBvLmF0aXZhckxvZygnYXZhbGlhY2FvJywgYXZhbGlhY2FvKTsKCnZhciBsaXN0YXJUb2RvcyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlcG8ubGlzdGFyVG9kb3MoYXZhbGlhY2FvKSk7CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIGxpc3RhclRvZG9zKCkgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCk7Cgp2YXIgYnVjYXJQb3JJZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihpZCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHJlcG8uYnVjYXJQb3JJZChhdmFsaWFjYW8sIGlkKSk7CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gYnVjYXJQb3JJZChfeCkgewogICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOwoKdmFyIGluY2x1aXIgPSBmdW5jdGlvbiBpbmNsdWlyKGRhZG9zKSB7CiAgcmV0dXJuIHJlcG8uaW5jbHVpcihhdmFsaWFjYW8sIGRhZG9zKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgIGlmIChkYWRvcy5yZXN1bHRhZG8ucmlzY28gPT0gJ0UnKSB7CiAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgdGl0bGU6ICdFc3TDoSBhdmFsaWHDp8OjbyBmb2kgY2F0ZWdvcml6YWRhIGNvbW8gcmlzY28gRWxldmFkbycsCiAgICAgICAgdGV4dDogIkRlc2VqYSBmYXplciB1bWEgRGVuw7puY2lhIGRlIGFncmVzc8OjbyA/IiwKICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnU2ltLCBmYXplciBkZW7Dum5jaWEhJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAnQ2FuY2VsYXInCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIGlmIChyZXN1bHQuaXNDb25maXJtZWQpIHsKICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSAnL0RlbnVuY2lhJzsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0pOwp9OwoKdmFyIGFsdGVyYXIgPSBmdW5jdGlvbiBhbHRlcmFyKGlkLCBkYWRvcykgewogIHJldHVybiByZXBvLmFsdGVyYXIoYXZhbGlhY2FvLCBpZCwgZGFkb3MpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgaWYgKGRhZG9zLnJlc3VsdGFkby5yaXNjbyA9PSAnRScpIHsKICAgICAgU3dhbC5maXJlKHsKICAgICAgICB0aXRsZTogJ0VzdMOhIGF2YWxpYcOnw6NvIGZvaSBjYXRlZ29yaXphZGEgY29tbyByaXNjbyBFbGV2YWRvJywKICAgICAgICB0ZXh0OiAiRGVzZWphIGZhemVyIHVtYSBEZW7Dum5jaWEgZGUgYWdyZXNzw6NvID8iLAogICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdTaW0sIGZhemVyIGRlbsO6bmNpYSEnLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWxhcicKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkgewogICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcvRGVudW5jaWEnOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSk7Cn07Cgp2YXIgZXhjbHVpciA9IGZ1bmN0aW9uIGV4Y2x1aXIoaWQpIHsKICByZXR1cm4gcmVwby5leGNsdWlyKGF2YWxpYWNhbywgaWQpOwp9OwoKZXhwb3J0IHsgbGlzdGFyVG9kb3MsIGJ1Y2FyUG9ySWQsIGluY2x1aXIsIGFsdGVyYXIsIGV4Y2x1aXIgfTs="},{"version":3,"sources":["E:/AppFrida/src/controller/ctlFormulario.js"],"names":["repo","avaliacao","Swal","require","ativarLog","listarTodos","bucarPorId","id","incluir","dados","then","resultado","risco","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","location","href","alterar","excluir"],"mappings":";;AAAA,OAAO,KAAKA,IAAZ,MAAsB,sBAAtB;AACA,SAASC,SAAT,QAA0B,YAA1B;;AACA,IAAMC,IAAI,GAAGC,OAAO,CAAC,aAAD,CAApB;;AAEAH,IAAI,CAACI,SAAL,CAAe,WAAf,EAA4BH,SAA5B;;AACA,IAAII,WAAW;AAAA,qEAAG;AAAA;AAAA;AAAA;AAAA;AAAA,6CAAYL,IAAI,CAACK,WAAL,CAAiBJ,SAAjB,CAAZ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAXI,WAAW;AAAA;AAAA;AAAA,GAAf;;AACA,IAAIC,UAAU;AAAA,sEAAG,kBAAOC,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA,8CAAcP,IAAI,CAACM,UAAL,CAAgBL,SAAhB,EAA2BM,EAA3B,CAAd;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVD,UAAU;AAAA;AAAA;AAAA,GAAd;;AAEA,IAAIE,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAAW;AACrB,SAAOT,IAAI,CAACQ,OAAL,CAAaP,SAAb,EAAwBQ,KAAxB,EACFC,IADE,CACG,YAAM;AACR,QAAID,KAAK,CAACE,SAAN,CAAgBC,KAAhB,IAAyB,GAA7B,EAAkC;AAC9BV,MAAAA,IAAI,CAACW,IAAL,CAAU;AACNC,QAAAA,KAAK,EAAE,oDADD;AAENC,QAAAA,IAAI,EAAE,yCAFA;AAGNC,QAAAA,IAAI,EAAE,SAHA;AAINC,QAAAA,gBAAgB,EAAE,IAJZ;AAKNC,QAAAA,kBAAkB,EAAE,SALd;AAMNC,QAAAA,iBAAiB,EAAE,MANb;AAONC,QAAAA,iBAAiB,EAAE,sBAPb;AAQNC,QAAAA,gBAAgB,EAAE;AARZ,OAAV,EASGX,IATH,CASQ,UAACY,MAAD,EAAY;AAChB,YAAIA,MAAM,CAACC,WAAX,EAAwB;AACpBC,UAAAA,QAAQ,CAACC,IAAT,GAAgB,WAAhB;AACH;AACJ,OAbD;AAcH;AACJ,GAlBE,CAAP;AAmBH,CApBD;;AAsBA,IAAIC,OAAO,GAAG,SAAVA,OAAU,CAACnB,EAAD,EAAKE,KAAL,EAAe;AACzB,SAAOT,IAAI,CAAC0B,OAAL,CAAazB,SAAb,EAAwBM,EAAxB,EAA4BE,KAA5B,EACFC,IADE,CACG,YAAM;AACR,QAAID,KAAK,CAACE,SAAN,CAAgBC,KAAhB,IAAyB,GAA7B,EAAkC;AAC9BV,MAAAA,IAAI,CAACW,IAAL,CAAU;AACNC,QAAAA,KAAK,EAAE,oDADD;AAENC,QAAAA,IAAI,EAAE,yCAFA;AAGNC,QAAAA,IAAI,EAAE,SAHA;AAINC,QAAAA,gBAAgB,EAAE,IAJZ;AAKNC,QAAAA,kBAAkB,EAAE,SALd;AAMNC,QAAAA,iBAAiB,EAAE,MANb;AAONC,QAAAA,iBAAiB,EAAE,sBAPb;AAQNC,QAAAA,gBAAgB,EAAE;AARZ,OAAV,EASGX,IATH,CASQ,UAACY,MAAD,EAAY;AAChB,YAAIA,MAAM,CAACC,WAAX,EAAwB;AACpBC,UAAAA,QAAQ,CAACC,IAAT,GAAgB,WAAhB;AACH;AACJ,OAbD;AAcH;AACJ,GAlBE,CAAP;AAmBH,CApBD;;AAsBA,IAAIE,OAAO,GAAG,SAAVA,OAAU,CAACpB,EAAD;AAAA,SAAQP,IAAI,CAAC2B,OAAL,CAAa1B,SAAb,EAAwBM,EAAxB,CAAR;AAAA,CAAd;;AAEA,SACIF,WADJ,EAEIC,UAFJ,EAGIE,OAHJ,EAIIkB,OAJJ,EAKIC,OALJ","sourcesContent":["import * as repo from \"./ctlRepositorioBase\";\r\nimport { avaliacao } from \"./firebase\";\r\nconst Swal = require('sweetalert2')\r\n\r\nrepo.ativarLog('avaliacao', avaliacao);\r\nvar listarTodos = async () => repo.listarTodos(avaliacao)\r\nvar bucarPorId = async (id) => repo.bucarPorId(avaliacao, id)\r\n\r\nvar incluir = (dados) => {\r\n    return repo.incluir(avaliacao, dados)\r\n        .then(() => {\r\n            if (dados.resultado.risco == 'E') {\r\n                Swal.fire({\r\n                    title: 'Está avaliação foi categorizada como risco Elevado',\r\n                    text: \"Deseja fazer uma Denúncia de agressão ?\",\r\n                    icon: 'warning',\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: '#3085d6',\r\n                    cancelButtonColor: '#d33',\r\n                    confirmButtonText: 'Sim, fazer denúncia!',\r\n                    cancelButtonText: 'Cancelar'\r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        location.href = '/Denuncia';\r\n                    }\r\n                })\r\n            }\r\n        })\r\n}\r\n\r\nvar alterar = (id, dados) => {\r\n    return repo.alterar(avaliacao, id, dados)\r\n        .then(() => {\r\n            if (dados.resultado.risco == 'E') {\r\n                Swal.fire({\r\n                    title: 'Está avaliação foi categorizada como risco Elevado',\r\n                    text: \"Deseja fazer uma Denúncia de agressão ?\",\r\n                    icon: 'warning',\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: '#3085d6',\r\n                    cancelButtonColor: '#d33',\r\n                    confirmButtonText: 'Sim, fazer denúncia!',\r\n                    cancelButtonText: 'Cancelar'\r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        location.href = '/Denuncia';\r\n                    }\r\n                })\r\n            }\r\n        })\r\n}\r\n\r\nvar excluir = (id) => repo.excluir(avaliacao, id)\r\n\r\nexport {\r\n    listarTodos,\r\n    bucarPorId,\r\n    incluir,\r\n    alterar,\r\n    excluir\r\n}"]}]}