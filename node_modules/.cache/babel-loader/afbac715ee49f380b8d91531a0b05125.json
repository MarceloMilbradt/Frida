{"remainingRequest":"E:\\AppFrida\\node_modules\\babel-loader\\lib\\index.js!E:\\AppFrida\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\AppFrida\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\AppFrida\\src\\views\\Denuncia.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\AppFrida\\src\\views\\Denuncia.vue","mtime":1632532808997},{"path":"E:\\AppFrida\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\AppFrida\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\AppFrida\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\AppFrida\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovQXBwRnJpZGEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRTovQXBwRnJpZGEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBGb3JtUGVzc29hIGZyb20gIi4uL2NvbXBvbmVudHMvRm9ybVBlc3NvYS52dWUiOwppbXBvcnQgRm9ybUFkaWNpb25hbCBmcm9tICIuLi9jb21wb25lbnRzL0Zvcm1BZGljaW9uYWwudnVlIjsKaW1wb3J0IEZvcm1Gb290ZXIgZnJvbSAiLi4vY29tcG9uZW50cy9Gb3JtRm9vdGVyLnZ1ZSI7CmltcG9ydCAqIGFzIGNvbnRyb2xsZXIgZnJvbSAiLi4vY29udHJvbGxlci9jdGxEZW51bmNpYSI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEZvcm1QZXNzb2E6IEZvcm1QZXNzb2EsCiAgICBGb3JtQWRpY2lvbmFsOiBGb3JtQWRpY2lvbmFsLAogICAgRm9ybUZvb3RlcjogRm9ybUZvb3RlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlkOiBudWxsLAogICAgICB0YWI6ICIwIiwKICAgICAgZGVudW5jaWE6IHsKICAgICAgICBkYXRhOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksCiAgICAgICAgYWdyZXNzYW86IFtdLAogICAgICAgIHZpdGltYTogewogICAgICAgICAgZW5kZXJlY286IHt9LAogICAgICAgICAgdHJhYmFsaG86IHt9LAogICAgICAgICAgZmlsaWFjYW86IHt9LAogICAgICAgICAgaXNWYWxpZDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgYWdyZXNzb3I6IHsKICAgICAgICAgIGVuZGVyZWNvOiB7fSwKICAgICAgICAgIHRyYWJhbGhvOiB7fSwKICAgICAgICAgIGZpbGlhY2FvOiB7fSwKICAgICAgICAgIGlzVmFsaWQ6IHRydWUKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgaWQsIGRhZG9zOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWQgPSBfdGhpcy4kcm91dGUucGFyYW1zLmlkOwoKICAgICAgICAgICAgICBpZiAoIWlkKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuYnVjYXJQb3JJZChpZCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgZGFkb3MgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF90aGlzLmRlbnVuY2lhID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkYWRvcyksIHt9LCB7CiAgICAgICAgICAgICAgICBpZDogaWQKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfdGhpcy5pZCA9IGlkOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgiZGVudW5jaWEvc2V0RGVudW5jaWEiLCBfdGhpcy5kZW51bmNpYSk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICBnZXREZW51bmNpYTogImRlbnVuY2lhL2dldERlbnVuY2lhIiwKICAgIHZpdGltYUlzVmFsaWQ6ICJkZW51bmNpYS92aXRpbWFJc1ZhbGlkIiwKICAgIGFncmVzc29ySXNWYWxpZDogImRlbnVuY2lhL2FncmVzc29ySXNWYWxpZCIsCiAgICBkZW51bmNpYUlzVmFsaWQ6ICJkZW51bmNpYS9kZW51bmNpYUlzVmFsaWQiCiAgfSkpLAogIG1ldGhvZHM6IHsKICAgIHNldFZpdGltYVZhbGlkOiBmdW5jdGlvbiBzZXRWaXRpbWFWYWxpZCh2YWxpZCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZGVudW5jaWEvc2V0VmFsaWRWaXRpbWEiLCB2YWxpZCk7CiAgICAgIHRoaXMuZGVudW5jaWEudml0aW1hLnZhbGlkID0gdmFsaWQ7CiAgICB9LAogICAgc2V0QWdyZXNzb3JWYWxpZDogZnVuY3Rpb24gc2V0QWdyZXNzb3JWYWxpZCh2YWxpZCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZGVudW5jaWEvc2V0VmFsaWRBZ3Jlc3NvciIsIHZhbGlkKTsKICAgICAgdGhpcy5kZW51bmNpYS5hZ3Jlc3Nvci52YWxpZCA9IHZhbGlkOwogICAgfSwKICAgIGNoYW5nZVRhYjogZnVuY3Rpb24gY2hhbmdlVGFiKHRhYikgewogICAgICB0aGlzLnRhYiA9ICIiLmNvbmNhdCgrdGhpcy50YWIgKyB0YWIpOwogICAgfSwKICAgIHBhcnNlT2JqZWN0OiBmdW5jdGlvbiBwYXJzZU9iamVjdChkZW51bmNpYSkgewogICAgICBkZWxldGUgZGVudW5jaWEudml0aW1hLmlzVmFsaWQ7CiAgICAgIGRlbGV0ZSBkZW51bmNpYS52aXRpbWEudmFsaWQ7CiAgICAgIGRlbGV0ZSBkZW51bmNpYS5hZ3Jlc3Nvci5pc1ZhbGlkOwogICAgICBkZWxldGUgZGVudW5jaWEuYWdyZXNzb3IudmFsaWQ7CiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBkZW51bmNpYSk7CiAgICB9LAogICAgb25DbGlja1NhdmVTdWJtaXQ6IGZ1bmN0aW9uIG9uQ2xpY2tTYXZlU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBkZW51bmNpYSA9IHRoaXMucGFyc2VPYmplY3QodGhpcy5kZW51bmNpYSk7CgogICAgICBpZiAodGhpcy5pZCkgewogICAgICAgIGNvbnRyb2xsZXIuYWx0ZXJhcih0aGlzLmlkLCBkZW51bmNpYSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuZ29CYWNrKCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29udHJvbGxlci5pbmNsdWlyKGRlbnVuY2lhKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5nb0JhY2soKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGdvQmFjazogZnVuY3Rpb24gZ29CYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogIkxpc3RhckRlbnVuY2lhIgogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["E:\\AppFrida\\src\\views\\Denuncia.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-tabs v-model=\"tab\" style=\"margin-top: 1.25em\">\r\n    <el-tab-pane label=\"Adicionais\">\r\n      <el-card class=\"box-card\">\r\n\r\n        <FormAdicional v-model=\"denuncia\" @btn-click-next=\"onClickSaveSubmit\" :text=\"'Informacoes Adicionais'\" />\r\n        <FormFooter @btn-click-next=\"changeTab(+1)\" @btn-click-prev=\"goBack\"  :text=\"['Cancelar', null]\"/>\r\n\r\n      </el-card>\r\n\r\n    </el-tab-pane>\r\n    <el-tab-pane>\r\n      <template #label>\r\n        <span>Vitima <i v-if=\"vitimaIsValid === false\" class=\"el-icon-warning-outline\"></i></span>\r\n      </template>\r\n      <el-card class=\"box-card\">\r\n        <FormPessoa :text=\"'Dados da VÃ­tima'\" @form-validate=\"setVitimaValid\" v-model=\"denuncia.vitima\">\r\n        </FormPessoa>\r\n        <FormFooter @btn-click-next=\"changeTab(+1)\" @btn-click-prev=\"changeTab(-1)\" :hide=\"[false, false]\" />\r\n      </el-card>\r\n    </el-tab-pane>\r\n\r\n    <el-tab-pane>\r\n      <template #label>\r\n        <span>Agressor(a) <i v-if=\"agressorIsValid === false\" class=\"el-icon-warning-outline\"></i></span>\r\n      </template>\r\n      <el-card class=\"box-card\">\r\n        <FormPessoa :text=\"'Dados do(a) Agressor(a)'\" @form-validate=\"setAgressorValid\" v-model=\"denuncia.agressor\">\r\n        </FormPessoa>\r\n        <FormFooter @btn-click-next=\"onClickSaveSubmit\" @btn-click-prev=\"changeTab(-1)\"  :text=\"[null, 'Salvar!']\"/>\r\n      </el-card>\r\n    </el-tab-pane>\r\n\r\n  </el-tabs>\r\n</template>\r\n\r\n<script>\r\nimport FormPessoa from \"../components/FormPessoa.vue\";\r\nimport FormAdicional from \"../components/FormAdicional.vue\";\r\nimport FormFooter from \"../components/FormFooter.vue\";\r\nimport * as controller from \"../controller/ctlDenuncia\";\r\nimport { mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  components: {\r\n    FormPessoa,\r\n    FormAdicional,\r\n    FormFooter,\r\n  },\r\n  data() {\r\n    return {\r\n      id: null,\r\n      tab: \"0\",\r\n      denuncia: {\r\n        data: new Date().toISOString(),\r\n\r\n        agressao: [],\r\n\r\n        vitima: {\r\n          endereco: {},\r\n          trabalho: {},\r\n          filiacao: {},\r\n          isValid: true,\r\n        },\r\n\r\n        agressor: {\r\n          endereco: {},\r\n          trabalho: {},\r\n          filiacao: {},\r\n          isValid: true,\r\n        },\r\n      },\r\n    };\r\n  },\r\n  async created() {\r\n    let id = this.$route.params.id;\r\n    if (id) {\r\n      let dados = await controller.bucarPorId(id);\r\n      this.denuncia = { ...dados, id };\r\n      this.id = id;\r\n    }\r\n    this.$store.dispatch(\"denuncia/setDenuncia\", this.denuncia);\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      getDenuncia: \"denuncia/getDenuncia\",\r\n      vitimaIsValid: \"denuncia/vitimaIsValid\",\r\n      agressorIsValid: \"denuncia/agressorIsValid\",\r\n      denunciaIsValid: \"denuncia/denunciaIsValid\",\r\n    }),\r\n  },\r\n  methods: {\r\n    setVitimaValid(valid) {\r\n      this.$store.dispatch(\"denuncia/setValidVitima\", valid);\r\n      this.denuncia.vitima.valid = valid;\r\n    },\r\n    setAgressorValid(valid) {\r\n      this.$store.dispatch(\"denuncia/setValidAgressor\", valid);\r\n      this.denuncia.agressor.valid = valid;\r\n    },\r\n    changeTab(tab) {\r\n      this.tab = `${+this.tab + tab}`;\r\n    },\r\n    parseObject(denuncia){\r\n        delete denuncia.vitima.isValid;\r\n        delete denuncia.vitima.valid;\r\n        delete denuncia.agressor.isValid;\r\n        delete denuncia.agressor.valid;\r\n        return {...denuncia};\r\n    },\r\n    onClickSaveSubmit() {\r\n      let denuncia = this.parseObject(this.denuncia);\r\n\r\n      if (this.id) {\r\n        controller.alterar(this.id, denuncia).then(() => {\r\n          this.goBack();\r\n        });\r\n      } else {\r\n        controller.incluir(denuncia).then(() => {\r\n          this.goBack();\r\n        });\r\n      }\r\n    },\r\n    goBack(){\r\n       this.$router.push({ path: \"ListarDenuncia\" });\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.box-card {\r\n  margin: 0 0 1.25em 0;\r\n}\r\n.el-icon-warning-outline {\r\n  color: #f56c6c;\r\n}\r\n</style>"],"sourceRoot":""}]}